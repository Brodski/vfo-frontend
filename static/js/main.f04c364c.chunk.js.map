{"version":3,"sources":["CSS/serviceWorker.js","HttpRequests/GApiAuth.js","api-key.js","HttpRequests/ServerEndpoints.js","HttpRequests/YoutubeApi.js","BusinessLogic/YtLogic.js","Classes/CustomShelf.js","Classes/Filter.js","Classes/Subscription.js","Classes/User.js","BusinessLogic/Common.js","Contexts/UserContext.js","Common/Footer.jsx","Common/Home.jsx","Common/LoginButton.jsx","Common/Logo.jsx","Common/Nav.jsx","BusinessLogic/SettingsLogic.js","Settings/FilterDialog.jsx","Settings/RenameDialog.jsx","Settings/ShelfSetting.jsx","Settings/AllShelfs.jsx","Common/GreetingsMsg.jsx","Settings/HowTo.jsx","Common/LoadingMain.jsx","Settings/PostSave.jsx","Settings/SettingsMain.jsx","Classes/VideoResponse.js","Classes/FinalShelfs.js","Youtube/Video.jsx","Youtube/Shelf.jsx","Youtube/ShelfsMany.jsx","Classes/VidCounter.js","Youtube/YoutubeMain.jsx","App.jsx","index.js","Images/navbar/profile-pic.png","Images/navbar/green-depth.jpg","Images/cogs2.png","Images/pen3.png","Images/Tutorial/drag3.png","Images/Tutorial/drag-sub2.png","Images/Tutorial/tut-filt-combo2.png","Images/Tutorial/order2.png","Images/Tutorial/notice-with-arrow.png"],"names":["Boolean","window","location","hostname","match","GoogleAuth","SECRET_KEYS","apiKey","clientId","SCOPE","process","sleep","ms","Promise","resolve","setTimeout","waitForGApiLoad","a","async","wait","gapi","waitForAuthLoad","auth2","_initClient","client","init","discoveryDocs","scope","getGoogleAuth","checkAll","isHeSignedIn","isSignedIn","get","getToken","currentUser","getAuthResponse","id_token","SPRING_BACKEND","loginToBackend","GApiAuth","console","log","idtoken","axios","post","then","res","catch","e","saveUser","user","check","youtube","_getThisUsersSubs","pageToken","subscriptions","list","part","maxResults","mine","fields","getSomeVideos","vidIdList","videos","id","toString","getActivitiesShelfs","shelfs","allShelfsPromises","forEach","sh","shPromises","fewSubs","map","sub","channel","channelId","activities","push","all","shProm","getAllSubs","youtubeApi","response","status","allSubs","result","items","nextPageToken","concat","removeNonVideos","eachShelfsActs","filteredShelfs","shelf","fShelf","act","filter","item","contentDetails","upload","extractIds","ids","videoId","fetchVideos","shelfsVidIds","vidIdShelfPromise","flattenShelf","bigsub","sortByDate","sort","b","dateA","Date","snippet","publishedAt","defaults","baseURL","interceptors","request","use","config","error","reject","CustomShelf","this","title","isSorted","t","fewS","newSh","channelName","Filter","minDuration","maxDuration","Subscription","User","googleId","username","customShelfs","pictureUrl","isDemo","subz","data","ytSub","addSub","resourceId","ytSubArr","removedSubsArr","rmS","idz","indexOf","splice","length","idz2","checkForRemovedSubs","subsFromYt","subsFromBackend","removedSubs","doesMatches","allBackendSubz","backS","ytS","checkForNewSubs","newSubs","uSh","processUserFromServer","u","subzPromise","ytLogic","initNewUser","ServerEndpoints","removedSubArr","addArrayOfSubs","removeSubs","loginAndSet","setUser","setUserSettings","prev","getMockUser","Pic","uSubM","uSubM2","uSubM3","uSubM4","cShelfM","uSubKpop","uSubKpop2","uSubKpop3","uSubKpop4","cShelfK","uSubMusic3","uSubMusicY","uSubMusicX2","uSubMusicX3","uSubMusicX4","cShelfMusic2","uSubStuff","uSubStuff2","cShelfCool","uSubNight","uSubNight2","uSubNight3","cShelfNight","uSubSci","uSubSci2","uSubSci3","uSubSci4","uSubSci5","cShelfSci","subTalk","subTalk2","subTalk3","subTalk4","subTalk5","cShelfTalk","sub1A","sub1B","sub1C","cShelfNP","uSubx","uSub1","cShelf1","cShelf3","UserContext","createContext","UserSettingsContext","IsLoggedContext","IsInitFinishedContext","Footer","key","className","href","About","slice","LoginButton","isLogged2","useContext","onClick","signOut","err","signIn","path","mdiGoogle","size","Logo","xmlns","width","height","viewBox","d","Nav","useState","isInitFinished","setIsInitFinished","useEffect","Common","elems","document","querySelectorAll","M","Sidenav","Contents","to","data-target","src","alt","NavImage","queryShelfs","userSettings","allowEmpty","newCustomShelfs","shelfsQ","call","i","tempShelf","dataset","name","issorted","idxs","_findSubIndex","tempSub","shelfIndex","subIndex","chName","findIndex","s","FilterDialog","props","modalIsOpen","setIsOpen","minDur","setMinDur","maxDur","setMaxDur","bindToId","subObj","Modal","setAppElement","MaxMinDurationDropdown","maxOrMinState","maxOrMinHandler","firstValue","value","onChange","close","preventDefault","isOpen","onRequestClose","shouldCloseOnEsc","overlayClassName","target","type","findIndexesOfChannelName","prevSettings","newU","newFilter","RenameDialog","newName","setNewName","save","shelfObj","updateForce","onSubmit","ShelfSetting","setState","saveUi2Settings","prevUserSetting","newS","stLogic","makeDraggableShared","selector","groupName","nestedShelf","optionz","group","animation","fallbackOnBody","swapThreshold","forceFallback","onEnd","evt","handle","Sortable","itemz","idx","nextId","data-name","shelfClasses","auxShelfClasses","dragClass","titleReal","data-issorted","AllShelfs","addShelf","cs","FormSelect","unSortedshelfz","aux_unSortedSh","unSortedSubs","unSortedSh","prepTheYourSubscriptionsShelf","sortedShelfz","sortedSh","c","prepSortedShelfs","GreetingsMsg","defaultProps","isSettingsPage","setIsLogged2","extraClasses","HowTo","isModalOpen","setIsModalOpen","showArrows","showStatus","showThumbs","dynamicHeight","useKeyboardArrows","infiniteLoop","Drag2","Drag1","Filt6","Order1","Order2","LoadingMain","color","PostSave","doIt","setDoIt","clearTimeout","SettingsNEW","isInitFinished2","shouldRedirect","setShouldRedirect","setAndManageData","auxNewCustomShelfs","newSet","yourSubscriptionsShelf","converted","convertAllSubsToShelfs","VideoResponse","statistics","thumbnails","default","medium","high","standard","maxres","FinalShelfs","filters","Video","thumbnail","video","url","channelTitle","fromNowDate","moment","fromNow","viewCount","humanFormat","parseInt","decimals","replace","vidDuration","vDurAux","duration","hours","minutes","padStart","seconds","formatVidLength","Shelf","shelfIdx","setNumVids","numVids","renderMoreNum","numVidzRendered","newNumVids","ShelfsMany","hasMore","VidCounter","shelfId","YoutubeNEW","spamLimit","pageGrowth","fetchThisManyVideosPerShelf","userSetings","setIsInitFinished2","finalShelfs","setFinalShelfs","pageLength","setPageLength","prevPage2","setPrevPage2","isFirst","setIsFirst","isMoreShelfs","setIsMoreShelfs","spamCount","isEndReached","isEnd","putUnsortedShelfAtBottom","newUser","unSort","hackHelper","count","isReady","calcShelfSlice","_fetchActivities","shelfsActs","isNothingLoadedYet","setFinalShelfAux","iData","prevShs","shift","injectData","shelfstuff","injectShelfTitle","_fetchVideos","shelfVids","fetchMoreSubs","vid","f","filt","max","Infinity","checkDurations","asMinutes","v","loadMore","loader","threshold","App","script","createElement","body","appendChild","onload","initGApi","load","getAuthInstance","listen","val","reload","updateLocale","relativeTime","m","h","y","Provider","exact","component","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.f04c364c.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","// ////////////////////////////////////////////////////////////////\r\n// ////////////////     INITIALIZE CLIENT     /////////////////////\r\n// ////////////////////////////////////////////////////////////////\r\n/* Google Sign In For Web\r\n * https://developers.google.com/identity/sign-in/web/reference\r\n *\r\n * Authentication:\r\n *\r\n * \"GoogleAuth\" is a singleton class that provides methods to allow the user to sign in with\r\n * a Google account, get the user's current sign-in status, get specific data from the user's\r\n * Google profile, request additional scopes, and sign out from the current account.\r\n *\r\n * \r\n * Uses OAuth2 for the \"client-side-flow\"  https://developers.google.com/youtube/v3/guides/auth/client-side-web-apps\r\n * Sign In for websites (authorization) https://developers.google.com/identity/sign-in/web/backend-auth\r\n * \r\n * REFERENCES\r\n * \r\n * Scope https://developers.google.com/identity/protocols/googlescopes\r\n * Get profile info (id): https://developers.google.com/identity/sign-in/web/people\r\n * Serverside Auth https://developers.google.com/identity/protocols/OAuth2WebServer\r\n * Serverside Auth https://developers.google.com/identity/sign-in/web/server-side-flow <--- backend\r\n * Serverside Auth https://developers.google.com/youtube/v3/guides/authentication\r\n *\r\n * DOCS:\r\n *\r\n *  Github JS API DOCS. https://github.com/google/google-api-javascript-client/blob/master/docs/reference.md\r\n *  OTHER JS API DOCS:  https://developers.google.com/identity/sign-in/web/reference\r\n */\r\n// Keeping func-names to stay consistent w/ the code from the google API ref\r\n// //////////////////////////////////////////////////////////////\r\n\r\nimport { SECRET_KEYS } from \"../api-key\";\r\n\r\nconst SCOPE = \"https://www.googleapis.com/auth/youtube.readonly\";\r\nconst SPRING_BACKEND = `http://${process.env.REACT_APP_SPRINGB_ADDRESS}`;\r\nlet GoogleAuth;\r\n\r\n// Had to get out of Dep. cycle,\r\nfunction sleep(ms) {\r\n  return new Promise(resolve => setTimeout(resolve, ms));\r\n}\r\n\r\n// Pass-by-value issues prevent me from abstracting out the 3 'wait loop function' below\r\nasync function waitForGApiLoad() {\r\n  let wait = 100;\r\n  while (!window.gapi) {\r\n    wait = wait * 2;\r\n    await sleep(wait);\r\n  }\r\n}\r\n\r\nasync function waitForAuthLoad() {\r\n  let wait = 100;\r\n  while (!window.gapi.auth2) {\r\n    wait = wait * 2;\r\n    await sleep(wait);\r\n  }\r\n}\r\n\r\nasync function _initClient() {\r\n  let discoveryUrl =\r\n    \"https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest\";\r\n  await window.gapi.client.init({\r\n    clientId: SECRET_KEYS.clientId,\r\n    apiKey: SECRET_KEYS.apiKey,\r\n    discoveryDocs: [discoveryUrl],\r\n    scope: SCOPE\r\n  });\r\n}\r\n\r\nexport async function initGoogleAPI() {\r\n  // Wait until googleApi is loaded: \"script.src = \"https://apis.google.com/js/client.js\"\r\n  await waitForGApiLoad();\r\n\r\n  // Wait until client is loaded\r\n  await window.gapi.load(\"client:auth2\", _initClient);\r\n\r\n  // Wait until client is authenticated\r\n  await waitForAuthLoad();\r\n\r\n  // Wait until GoogleAuth object is loaded\r\n  GoogleAuth = await window.gapi.auth2.getAuthInstance();\r\n  return GoogleAuth;\r\n}\r\n\r\nexport async function getGoogleAuth() {\r\n  let wait = 100;\r\n  while (!GoogleAuth) {\r\n    await sleep(wait);\r\n    wait = wait * 1.5;\r\n  }\r\n  return GoogleAuth;\r\n}\r\n\r\nexport async function checkAll() {\r\n  if (!window.gapi.auth2 || !window.gapi || !GoogleAuth) {\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\n//////////////////////////////////////////////////////////////////\r\n////////////////////   LOGIN - LOG OUT   ////////////////////////\r\n/////////////////////////////////////////////////////////////////\r\n\r\nexport function login() {\r\n  if (GoogleAuth) {\r\n    return GoogleAuth.signIn()\r\n      .then(res => {\r\n        return res;\r\n      })\r\n      .catch(function(err) {\r\n        console.error(\"Error signing in\", err);\r\n      });\r\n  }\r\n}\r\n\r\nexport function logout() {\r\n  if (GoogleAuth) {\r\n    return GoogleAuth.signOut()\r\n      .then(res => {\r\n        return res;\r\n      })\r\n      .catch(function(err) {\r\n        console.error(\"Error signing in\", err);\r\n      });\r\n  }\r\n}\r\n\r\nexport function isHeSignedIn() {\r\n  if (GoogleAuth) {\r\n    return GoogleAuth.isSignedIn.get();\r\n  }\r\n  return false;\r\n}\r\n\r\nexport function getToken() {\r\n  if (GoogleAuth) {\r\n    let idtoken = GoogleAuth.currentUser.get().getAuthResponse().id_token;\r\n    return idtoken;\r\n  }\r\n}\r\n\r\n// ////////////////////////////////////////////////////////\r\n// /////////////////   helper stuff ///////////////////\r\n// ////////////////////////////////////////////////////////\r\n\r\nexport function printInfo() {\r\n  console.log(\"print Info\");\r\n  console.log(\"---------------------------------\");\r\n  if (!GoogleAuth) {\r\n    console.log(\"GoogleAuth doesnt exist\");\r\n    return;\r\n  }\r\n  let user = GoogleAuth.currentUser.get();\r\n  let profile = user.getBasicProfile();\r\n  console.log(`ID: ${profile.getId()}`);\r\n  console.log(`Full Name: ${profile.getName()}`);\r\n  console.log(`Given Name: ${profile.getGivenName()}`);\r\n  console.log(`Family Name: ${profile.getFamilyName()}`);\r\n  console.log(`Image URL: ${profile.getImageUrl()}`);\r\n  console.log(`Email: ${profile.getEmail()}`);\r\n\r\n  console.log(user.getBasicProfile());\r\n  console.log(user.getGrantedScopes());\r\n  console.log(user.getHostedDomain());\r\n  console.log(user.getId());\r\n}\r\n\r\n// export function testWithXML() {\r\n//   var xmlhttp = new XMLHttpRequest();   // new HttpRequest instance\r\n//   var theUrl = SPRING_BACKEND + \"/user/authorize\";\r\n//   xmlhttp.onreadystatechange = function () {\r\n//     if (xmlhttp.readyState === 4) {\r\n//       console.log(xmlhttp.response);\r\n//       console.log(xmlhttp.responseText);\r\n//     }\r\n//   }\r\n//   xmlhttp.open(\"POST\", theUrl);\r\n//   xmlhttp.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\r\n//   xmlhttp.send(JSON.stringify({ \"email\": \"hello@user.com\", \"response\": { \"name\": \"Tester\" } }));\r\n\r\n// }\r\n","//export const myApikey = 'AIzaSyCsk_pigCRVoPrNj33wLCiNHqyhjmKettQ'\r\n\r\nexport const SECRET_KEYS = {\r\n  apiKey: \"AIzaSyA9UMgFUorrUwtiDzt3aEuPbN3NsF6ddHM\",\r\n  clientId:\r\n    \"351423957584-47knbsklt23b9cbsfgp2naqeklrd9o5u.apps.googleusercontent.com\"\r\n\r\n};\r\n\r\nconst brodski = {\r\n  apiKey: \"AIzaSyCsk_pigCRVoPrNj33wLCiNHqyhjmKettQ\",\r\n  clientId:\r\n    \"614701470977-evt5pd7a0tt0vc0hq30gmdn72e415j1q.apps.googleusercontent.com\"\r\n};\r\n\r\n// THIS IS THE THE ONE\r\nconst thebears = {\r\n  apiKey: \"AIzaSyA9UMgFUorrUwtiDzt3aEuPbN3NsF6ddHM\",\r\n  clientId:\r\n    \"351423957584-47knbsklt23b9cbsfgp2naqeklrd9o5u.apps.googleusercontent.com\"\r\n\r\n};\r\n\r\nconst cwasy = {\r\n  apiKey: \"AIzaSyBc4E9mDQj6KcKIhjUYtp8v6OYL5liiIzM\",\r\n  clientId:\r\n    \"102680252730-k956cr50o1t9ijsevu8k3iuh0igmk2qk.apps.googleusercontent.com\"\r\n};\r\n\r\n//client Id's must match on frontend & backend\r\n","import axios from \"axios\";\r\nimport * as GApiAuth from \"./GApiAuth\";\r\n\r\nconst SPRING_BACKEND = `http://${process.env.REACT_APP_SPRINGB_ADDRESS}`;\r\n\r\n//https://www.npmjs.com/package/axios#handling-errors\r\naxios.defaults.baseURL = SPRING_BACKEND;\r\naxios.interceptors.request.use(\r\n  config => {\r\n    // console.log(`Request was made to ${config.url}`)\r\n    return config;\r\n  },\r\n  error => {\r\n    console.log(\"Request error\");\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\naxios.interceptors.response.use(\r\n  res => {\r\n    // console.log(`Response recieved with status ${res.status} `)\r\n    return res;\r\n  },\r\n  error => {\r\n    console.log(\"Response error\");\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport async function loginToBackend() {\r\n  if (!GApiAuth.isHeSignedIn()) {\r\n    console.log(\"User is not logged in. Returning\");\r\n    return;\r\n  }\r\n  let idtoken = GApiAuth.getToken();\r\n  return axios\r\n    .post(\"/user/login\", { idtoken: idtoken })\r\n    .then(res => {\r\n      return res;\r\n    })\r\n    .catch(e => {\r\n      console.log(`Axios request failed: Login ${e}`);\r\n      return e;\r\n    });\r\n}\r\n\r\nexport async function saveUser(user) {\r\n  if (!GApiAuth.isHeSignedIn()) {\r\n    return;\r\n  }\r\n  let idtoken = GApiAuth.getToken();\r\n  return axios\r\n    .post(`${SPRING_BACKEND}/user/save`, { idtoken: idtoken, user: user })\r\n    .then(res => {\r\n      return res;\r\n    })\r\n    .catch(e => {\r\n      console.log(`Axios request failed: save user ${e}`);\r\n      return e;\r\n    });\r\n}\r\n","// Had to get out of Dep. cycle,\r\nfunction sleep(ms) {\r\n  return new Promise(resolve => setTimeout(resolve, ms));\r\n}\r\n\r\nexport async function check() {\r\n  let wait = 500;\r\n  while (!window.gapi.client.youtube) {\r\n    wait = wait * 2;\r\n    await sleep(wait);\r\n  }\r\n  while (!window.gapi.auth2) {\r\n    wait = wait * 2;\r\n    await sleep(wait);\r\n  }\r\n  while (!window.gapi) {\r\n    wait = wait * 2;\r\n    await sleep(wait);\r\n  }\r\n}\r\n\r\nexport async function _getActivities(channel) {\r\n  await check();\r\n  return window.gapi.client.youtube.activities.list({\r\n    part: \"snippet,contentDetails\",\r\n    channelId: channel,\r\n    maxResults: 35,\r\n    fields: \"nextPageToken, items(contentDetails/*, snippet/*)\"\r\n  });\r\n}\r\n\r\nexport async function _getThisUsersSubs(pageToken) {\r\n  await check();\r\n  return window.gapi.client.youtube.subscriptions.list({\r\n    part: \"snippet\",\r\n    maxResults: 50,\r\n    mine: true,\r\n    pageToken: pageToken,\r\n    fields:\r\n      \"pageInfo, nextPageToken, items(snippet/title, snippet/publishedAt, snippet/resourceId/channelId, snippet/thumbnails/default/url )\"\r\n  });\r\n}\r\n\r\nexport async function getSomeVideos(vidIdList = [\"\"]) {\r\n  await check();\r\n  return window.gapi.client.youtube.videos.list({\r\n    part: \"snippet, contentDetails, statistics\",\r\n    id: vidIdList.toString(),\r\n    fields:\r\n      \"items(id, kind, contentDetails/duration, snippet/publishedAt, snippet/channelId, snippet/title, snippet/description, snippet/thumbnails/*, snippet/channelTitle, statistics)\"\r\n  });\r\n}\r\n","import * as moment from \"moment\";\r\nimport * as youtubeApi from \"../HttpRequests/YoutubeApi\";\r\n\r\nexport async function getActivitiesShelfs(shelfs) {\r\n  const allShelfsPromises = [];\r\n  shelfs.forEach(sh => {\r\n    const shPromises = sh.fewSubs.map(sub =>\r\n      youtubeApi._getActivities(sub.channelId)\r\n    );\r\n    allShelfsPromises.push(shPromises);\r\n  });\r\n  return Promise.all(allShelfsPromises.map(shProm => Promise.all(shProm))); // https://stackoverflow.com/questions/36094865/how-to-do-promise-all-for-array-of-array-of-promises\r\n}\r\n\r\nexport async function getAllSubs() {\r\n  let response = await youtubeApi._getThisUsersSubs();\r\n  if (response.status < 200 || response.status > 299) {\r\n    return;\r\n  }\r\n  let allSubs = response.result.items;\r\n\r\n  // Intended await in loop. yt api can only get 50 subs per request\r\n  while (response.result.nextPageToken) {\r\n    response = await youtubeApi._getThisUsersSubs(\r\n      response.result.nextPageToken\r\n    );\r\n    allSubs = !allSubs\r\n      ? response.result.items\r\n      : allSubs.concat(response.result.items);\r\n  }\r\n  return allSubs;\r\n}\r\n\r\n// TODO Remove the double loop, use filter\r\nexport function removeNonVideos(eachShelfsActs) {\r\n  const filteredShelfs = [];\r\n  eachShelfsActs.forEach(shelf => {\r\n    const fShelf = [];\r\n    shelf.forEach(act => {\r\n      if (act.status < 200 || act.status > 299) {\r\n        return;\r\n      }\r\n      const result = act.result.items.filter(item => {\r\n        return item.contentDetails.upload;\r\n      });\r\n      fShelf.push(result);\r\n    });\r\n    filteredShelfs.push(fShelf);\r\n  });\r\n\r\n  return filteredShelfs;\r\n}\r\n\r\nexport function extractIds(shelf) {\r\n  let ids = [];\r\n  shelf.map(act => ids.push(act.contentDetails.upload.videoId));\r\n  return ids;\r\n}\r\n\r\nexport async function fetchVideos(shelfsVidIds) {\r\n  const vidIdShelfPromise = shelfsVidIds.map(sh => {\r\n    return youtubeApi.getSomeVideos(sh);\r\n  });\r\n  return Promise.all(vidIdShelfPromise);\r\n}\r\n\r\n// Returns all the activies in a single array (shelf)\r\nexport function flattenShelf(shelf) {\r\n  let bigsub = [];\r\n  shelf.map(sub => {\r\n    bigsub = bigsub.concat(sub);\r\n  });\r\n  return bigsub;\r\n}\r\n\r\n// Sort by most recent\r\nexport function sortByDate(shelf) {\r\n  shelf.sort(function(a, b) {\r\n    let dateA = new Date(a.snippet.publishedAt);\r\n    let dateB = new Date(b.snippet.publishedAt);\r\n    return dateB - dateA;\r\n  });\r\n  return shelf;\r\n}\r\n\r\n// See note in Filter class\r\nfunction checkDurations(filt, vidDuration) {\r\n  let max = filt.maxDuration === \"Infinity\" ? Infinity : filt.maxDuration;\r\n  if (vidDuration >= filt.minDuration && vidDuration <= max) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\n// I'm sorry for this. I messed up ealier :(\r\nexport function beginFilter2(fShelfs) {\r\n  // Go through every shelf's vid and find it's filter then apply it\r\n  fShelfs.forEach(sh => {\r\n    sh.videos.forEach(vid => {\r\n      sh.filters.forEach(f => {\r\n        if (f.channelId === vid.snippet.channelId) {\r\n          const duration = moment.duration(vid.contentDetails.duration);\r\n          const isPass = checkDurations(f, duration.asMinutes());\r\n          if (!isPass) {\r\n            sh.videos = sh.videos.filter(v => v.id !== vid.id);\r\n            return;\r\n          }\r\n        }\r\n      });\r\n    });\r\n  });\r\n}\r\n","class CustomShelf {\r\n  constructor() {\r\n    this.title = null;\r\n    this.fewSubs = [];\r\n    this.isSorted = false;\r\n  }\r\n\r\n  auxConstructor(t, fewS, isSorted) {\r\n    this.title = t;\r\n    this.fewSubs = fewS;\r\n    this.isSorted = isSorted;\r\n  }\r\n\r\n  convertAllSubsToShelfs() {\r\n    return this.fewSubs.map(sub => {\r\n      const newSh = new CustomShelf();\r\n      newSh.title = sub.channelName;\r\n      newSh.isSorted = false;\r\n      newSh.fewSubs = [sub];\r\n      return newSh;\r\n    });\r\n  }\r\n}\r\nexport default CustomShelf;\r\n","class Filter {\r\n  constructor(id) {\r\n    this.minDuration = 0;\r\n    this.maxDuration = \"Infinity\";\r\n    this.channelId = id;\r\n  }\r\n}\r\nexport default Filter;\r\n","import Filter from \"./Filter\";\r\n\r\nclass Subscription {\r\n  constructor() {\r\n    this.channelId = null;\r\n    this.channelName = null;\r\n    this.filter = new Filter();\r\n  }\r\n}\r\nexport default Subscription;\r\n","import CustomShelf from \"./CustomShelf\";\r\nimport Subscription from \"./Subscription\";\r\n\r\nclass User {\r\n  constructor() {\r\n    this.googleId = null;\r\n    this.username = null;\r\n    this.customShelfs = [];\r\n    this.pictureUrl = null;\r\n    this.isDemo = true;\r\n  }\r\n\r\n  initNewUser(subz, data) {\r\n    subz.forEach(ytSub => {\r\n      this.addSub(ytSub);\r\n    });\r\n    // TODO need to update username and pic\r\n    this.username = data.username;\r\n    this.pictureUrl = data.pictureUrl;\r\n    this.isDemo = false;\r\n    if (this.customShelfs[0] == null) {\r\n      this.customShelfs = [];\r\n    }\r\n  }\r\n\r\n  convertUnSortedShelfsToSubs() {\r\n    let auxUnSortedSh = this.customShelfs.filter(sh => {\r\n      return !sh.isSorted;\r\n    });\r\n    let subz = auxUnSortedSh.map(sh => {\r\n      return [...sh.fewSubs];\r\n    });\r\n    return subz;\r\n  }\r\n\r\n  addSub(ytSub) {\r\n    let sub = new Subscription();\r\n    sub.channelName = ytSub.snippet.title;\r\n    sub.channelId = ytSub.snippet.resourceId.channelId;\r\n    sub.filter.channelId = ytSub.snippet.resourceId.channelId;\r\n\r\n    let shelf = new CustomShelf();\r\n    shelf.title = sub.channelName;\r\n    shelf.fewSubs = [sub];\r\n    shelf.isSorted = false;\r\n    this.customShelfs.push(shelf);\r\n  }\r\n\r\n  addArrayOfSubs(ytSubArr) {\r\n    if (!ytSubArr[0]) {\r\n      return;\r\n    }\r\n    ytSubArr.forEach(ytSub => {\r\n      this.addSub(ytSub);\r\n    });\r\n  }\r\n\r\n  removeSubs(removedSubsArr) {\r\n    if (!removedSubsArr[0]) {\r\n      return;\r\n    }\r\n    this.customShelfs.forEach(sh => {\r\n      sh.fewSubs.forEach(sub => {\r\n        removedSubsArr.forEach(rmS => {\r\n          if (rmS.channelId === sub.channelId) {\r\n            let idz = sh.fewSubs.indexOf(sub);\r\n            sh.fewSubs.splice(idz, 1);\r\n            if (sh.fewSubs.length === 0) {\r\n              let idz2 = this.customShelfs.indexOf(sh);\r\n              this.customShelfs.splice(idz2, 1);\r\n            }\r\n          }\r\n        });\r\n      });\r\n    });\r\n  }\r\n}\r\nexport default User;\r\n","import * as ServerEndpoints from \"../HttpRequests/ServerEndpoints\";\r\nimport * as ytLogic from \"./YtLogic.js\";\r\nimport CustomShelf from \"../Classes/CustomShelf\";\r\nimport Pic from \"../Images/navbar/profile-pic.png\";\r\nimport Subscription from \"../Classes/Subscription\";\r\nimport User from \"../Classes/User\";\r\n\r\n// https://pixabay.com/vectors/blank-profile-picture-mystery-man-973460/\r\n\r\n// Had to get out of Dep. cycle,\r\nexport function sleep(ms) {\r\n  return new Promise(resolve => setTimeout(resolve, ms));\r\n}\r\n\r\n// Goes through every sub from the backend, if a sub does not match any subs from YT, then we found a sub that was removed from YT user.\r\nexport function checkForRemovedSubs(subsFromYt, subsFromBackend) {\r\n  let removedSubs = [];\r\n  let doesMatches = false;\r\n  let allBackendSubz = [];\r\n  subsFromBackend.customShelfs.map(sh => {\r\n    allBackendSubz.push(...sh.fewSubs);\r\n  });\r\n  allBackendSubz.forEach(backS => {\r\n    doesMatches = false;\r\n    subsFromYt.forEach(ytS => {\r\n      if (ytS.snippet.resourceId.channelId === backS.channelId) {\r\n        doesMatches = true;\r\n        return;\r\n      }\r\n    });\r\n    // if this sub from backend doesnt exist in subsFrom Yt, then it was removed\r\n    if (!doesMatches) {\r\n      removedSubs.push(backS);\r\n    }\r\n  });\r\n  return removedSubs;\r\n}\r\n\r\n// TODO could be cleaner, pretty confusing.\r\n// Goes through every sub from YT, if a sub does not match any subs from the backend, then we found a new sub.\r\nexport function checkForNewSubs(subsFromYt, subsFromBackend) {\r\n  let newSubs = [];\r\n  subsFromYt.forEach(ytS => {\r\n    let doesMatches = false;\r\n    subsFromBackend.customShelfs.forEach(uSh => {\r\n      uSh.fewSubs.forEach(sub => {\r\n        if (ytS.snippet.resourceId.channelId === sub.channelId) {\r\n          doesMatches = true;\r\n          return;\r\n        }\r\n      });\r\n    });\r\n    if (!doesMatches) {\r\n      newSubs.push(ytS);\r\n    }\r\n  });\r\n  return newSubs;\r\n}\r\n\r\nexport async function processUserFromServer(res) {\r\n  let u = new User();\r\n  let subzPromise = ytLogic.getAllSubs();\r\n\r\n  if (res.data.customShelfs == null) {\r\n    // implies new user\r\n    u.initNewUser(await subzPromise, res.data);\r\n    ServerEndpoints.saveUser(u);\r\n  } else {\r\n    u.customShelfs = res.data.customShelfs;\r\n    u.googleId = res.data.googleId;\r\n    u.pictureUrl = res.data.pictureUrl;\r\n    u.username = res.data.username;\r\n    u.isDemo = false;\r\n\r\n    // Below: Sync subs from the User's YT account and this app's database.\r\n    let newSubs = checkForNewSubs(await subzPromise, res.data);\r\n    let removedSubArr = checkForRemovedSubs(await subzPromise, res.data);\r\n    u.addArrayOfSubs(newSubs);\r\n    u.removeSubs(removedSubArr);\r\n    if (removedSubArr[0] || newSubs[0]) {\r\n      ServerEndpoints.saveUser(u);\r\n    }\r\n  }\r\n  return u;\r\n}\r\n\r\nexport async function loginAndSet(setUser, setUserSettings) {\r\n  let res = await ServerEndpoints.loginToBackend();\r\n  let u;\r\n  if (res.status > 199 && res.status < 300) {\r\n    u = await processUserFromServer(res);\r\n    //TODO could be better\r\n    setUser(prev => {\r\n      prev.customShelfs = u.customShelfs;\r\n      prev.googleId = u.googleId;\r\n      prev.pictureUrl = u.pictureUrl;\r\n      prev.username = u.username;\r\n      prev.isDemo = false;\r\n      return prev;\r\n    });\r\n    setUserSettings(prev => {\r\n      prev.customShelfs = u.customShelfs;\r\n      prev.googleId = u.googleId;\r\n      prev.pictureUrl = u.pictureUrl;\r\n      prev.username = u.username;\r\n      prev.isDemo = false;\r\n      return prev;\r\n    });\r\n  }\r\n  return u;\r\n}\r\n\r\nexport function getMockUser() {\r\n  let u = new User();\r\n  u.googleId = \"123-UserId\";\r\n  u.username = \"Demo Profile\";\r\n  u.pictureUrl = Pic;\r\n  u.isDemo = true;\r\n\r\n  //  /////////////////////////////////////////////////////////////\r\n  //  ////////////             Movies & Stiff             /////////\r\n  //  /////////////////////////////////////////////////////////////\r\n\r\n  let uSubM = new Subscription();\r\n  uSubM.channelName = \"Vanity Fair\";\r\n  uSubM.channelId = \"UCIsbLox_y9dCIMLd8tdC6qg\";\r\n  uSubM.filter.channelId = \"UCIsbLox_y9dCIMLd8tdC6qg\";\r\n\r\n  let uSubM2 = new Subscription();\r\n  uSubM2.channelName = \"Chris Stuckmann\";\r\n  uSubM2.channelId = \"UCCqEeDAUf4Mg0GgEN658tkA\";\r\n  uSubM2.filter.channelId = \"UCCqEeDAUf4Mg0GgEN658tkA\";\r\n\r\n  let uSubM3 = new Subscription();\r\n  uSubM3.channelName = \"Jeremy Jahns\";\r\n  uSubM3.channelId = \"UC7v3-2K1N84V67IF-WTRG-Q\";\r\n  uSubM3.filter.channelId = \"UC7v3-2K1N84V67IF-WTRG-Q\";\r\n\r\n  let uSubM4 = new Subscription();\r\n  uSubM4.channelName = \"Flashback FM\";\r\n  uSubM4.channelId = \"UC-GAhNmY6bkuuRPUSaRI_oQ\";\r\n  uSubM4.filter.channelId = \"UC-GAhNmY6bkuuRPUSaRI_oQ\";\r\n\r\n  let cShelfM = new CustomShelf();\r\n  cShelfM.title = \"Movies and stuff\";\r\n  cShelfM.fewSubs.push(uSubM, uSubM2, uSubM3, uSubM4);\r\n  cShelfM.isSorted = true;\r\n  u.customShelfs.push(cShelfM);\r\n\r\n  // ///////////////////////////////////////////////////////////\r\n  // //////////             KPOP              /////////////\r\n  // ///////////////////////////////////////////////////////////\r\n\r\n  let uSubKpop = new Subscription();\r\n  uSubKpop.channelName = \"jypentertainment\";\r\n  uSubKpop.channelId = \"UCaO6TYtlC8U5ttz62hTrZgg\";\r\n  uSubKpop.filter.channelId = \"UCaO6TYtlC8U5ttz62hTrZgg\";\r\n\r\n  let uSubKpop2 = new Subscription();\r\n  uSubKpop2.channelName = \"KOZ Entertainment\";\r\n  uSubKpop2.channelId = \"UCTk7wEWFxDGd1p1BUnUBINg\";\r\n  uSubKpop2.filter.channelId = \"UCTk7wEWFxDGd1p1BUnUBINg\";\r\n\r\n  let uSubKpop3 = new Subscription();\r\n  uSubKpop3.channelName = \"Big Hit Labels\";\r\n  uSubKpop3.channelId = \"UC3IZKseVpdzPSBaWxBxundA\";\r\n  uSubKpop3.filter.minDuration = \"2\";\r\n  uSubKpop3.filter.maxDuration = \"6\";\r\n  uSubKpop3.filter.channelId = \"UC3IZKseVpdzPSBaWxBxundA\";\r\n\r\n  let uSubKpop4 = new Subscription();\r\n  uSubKpop4.channelName = \"SMTOWN\";\r\n  uSubKpop4.channelId = \"UCEf_Bc-KVd7onSeifS3py9g\";\r\n  uSubKpop4.filter.minDuration = \"2\";\r\n  uSubKpop4.filter.maxDuration = \"6\";\r\n  uSubKpop4.filter.channelId = \"UCEf_Bc-KVd7onSeifS3py9g\";\r\n\r\n  let cShelfK = new CustomShelf();\r\n  cShelfK.title = \"K POP\";\r\n  cShelfK.fewSubs.push(uSubKpop, uSubKpop2, uSubKpop3, uSubKpop4);\r\n  cShelfK.isSorted = true;\r\n  u.customShelfs.push(cShelfK);\r\n\r\n  // ///////////////////////////////////////////////////////////\r\n  // //////////             Music             /////////////\r\n  // ///////////////////////////////////////////////////////////\r\n\r\n  // let uSubMusic = new Subscription()\r\n  // uSubMusic.channelName = 'Jhen Aiko'\r\n  // uSubMusic.channelId = 'UCcHl3bzvpMh74okqhV5UPOw';\r\n  // uSubMusic.filter.channelId = \"UCcHl3bzvpMh74okqhV5UPOw\";\r\n\r\n  // let uSubMusic0 = new Subscription()\r\n  // uSubMusic0.channelName = 'thinkcommon'\r\n  // uSubMusic0.channelId = 'UCBGDlQIq1hx5nSTIpWTsGAQ';\r\n  // uSubMusic0.filter.channelId = \"UCBGDlQIq1hx5nSTIpWTsGAQ\";\r\n\r\n  // let uSubMusic2 = new Subscription()\r\n  // uSubMusic2.channelName = 'Mahalia'\r\n  // uSubMusic2.channelId = 'UCOFDSTbv-hHT32ytVappaYg';\r\n  // uSubMusic2.filter.channelId = \"UCcHl3bzvpMh74okqhV5UPOw\";\r\n\r\n  // let uSubMusicX = new Subscription()\r\n  // uSubMusicX.channelName = 'Mariah Carey'\r\n  // uSubMusicX.channelId = 'UCurpiDXSkcUbgdMwHNZkrCg';\r\n  // uSubMusicX.filter.channelId = \"UCurpiDXSkcUbgdMwHNZkrCg\";\r\n\r\n  // let cShelfMusic = new CustomShelf()\r\n  // cShelfMusic.title = \"Music\"\r\n  // //cShelfMusic.fewSubs.push(uSubMusic, uSubMusic2, uSubMusic3, uSubMusic4)\r\n  // cShelfMusic.fewSubs.push(uSubMusic0, uSubMusic2,  uSubMusicX)\r\n  // cShelfMusic.isSorted = true;\r\n  // u.customShelfs.push(cShelfMusic)\r\n\r\n  // ///////////////////////////////////////////////////////////\r\n  // //////////             More Music              /////////////\r\n  // ///////////////////////////////////////////////////////////\r\n\r\n  // let uSubMusic5 = new Subscription()\r\n  // uSubMusic5.channelName = 'Shine Music'\r\n  // uSubMusic5.channelId = 'UCz24srq31kr8CyNT-oN1Dqw';\r\n  // uSubMusic5.filter.channelId = \"UCz24srq31kr8CyNT-oN1Dqw\";\r\n\r\n  // let uSubMusic6 = new Subscription()\r\n  // uSubMusic6.channelName = 'Clap Your Hands'\r\n  // uSubMusic6.channelId = 'UC5wbJ7XVrANgnq6M-Rgy8GQ';\r\n  // uSubMusic6.filter.channelId = \"UC5wbJ7XVrANgnq6M-Rgy8GQ\";\r\n\r\n  let uSubMusic3 = new Subscription();\r\n  uSubMusic3.channelName = \"COLORS\";\r\n  uSubMusic3.channelId = \"UC2Qw1dzXDBAZPwS7zm37g8g\";\r\n  uSubMusic3.filter.channelId = \"UC2Qw1dzXDBAZPwS7zm37g8g\";\r\n\r\n  let uSubMusicY = new Subscription();\r\n  uSubMusicY.channelName = \"Selected.\";\r\n  uSubMusicY.channelId = \"UCFZ75Bg73NJnJgmeUX9l62g\";\r\n  uSubMusicY.filter.channelId = \"UCFZ75Bg73NJnJgmeUX9l62g\";\r\n\r\n  // let uSubMusic7 = new Subscription()\r\n  // uSubMusic7.channelName = 'Defected Records'\r\n  // uSubMusic7.channelId = 'UCnOxaDXBiBXg9Nn9hKWu6aw';\r\n  // uSubMusic7.filter.channelId = \"UCnOxaDXBiBXg9Nn9hKWu6aw\";\r\n\r\n  // let uSubMusic8 = new Subscription()\r\n  // uSubMusic8.channelName = \"Tommy Boy\"\r\n  // uSubMusic8.channelId = \"UCnSR7_Oq-MdsZxfogsfk-Ug\";\r\n  // uSubMusic8.filter.channelId = \"UCnSR7_Oq-MdsZxfogsfk-Ug\";\r\n\r\n  let uSubMusicX2 = new Subscription();\r\n  uSubMusicX2.channelName = \"Touch\";\r\n  uSubMusicX2.channelId = \"UCpSMOn2qG_smhVFhInoxaVg\";\r\n  uSubMusicX2.filter.channelId = \"UCpSMOn2qG_smhVFhInoxaVg\";\r\n\r\n  let uSubMusicX3 = new Subscription();\r\n  uSubMusicX3.channelName = \"Majestic Casual\";\r\n  uSubMusicX3.channelId = \"UCXIyz409s7bNWVcM-vjfdVA\";\r\n  uSubMusicX3.filter.channelId = \"UCXIyz409s7bNWVcM-vjfdVA\";\r\n\r\n  let uSubMusicX4 = new Subscription();\r\n  uSubMusicX4.channelName = \"MrSuicideSheep\";\r\n  uSubMusicX4.channelId = \"UC5nc_ZtjKW1htCVZVRxlQAQ\";\r\n  uSubMusicX4.filter.channelId = \"UC5nc_ZtjKW1htCVZVRxlQAQ\";\r\n\r\n  let cShelfMusic2 = new CustomShelf();\r\n  cShelfMusic2.title = \"More music\";\r\n  cShelfMusic2.fewSubs.push(\r\n    uSubMusic3,\r\n    uSubMusicY,\r\n    uSubMusicX2,\r\n    uSubMusicX3,\r\n    uSubMusicX4\r\n  );\r\n  cShelfMusic2.isSorted = true;\r\n  u.customShelfs.push(cShelfMusic2);\r\n\r\n  // let uSubMusic4 = new Subscription()\r\n  // uSubMusic4.channelName = 'NPR Music'\r\n  // uSubMusic4.channelId = 'UC4eYXhJI4-7wSWc8UNRwD4A';\r\n  // uSubMusic4.filter.channelId = \"UC4eYXhJI4-7wSWc8UNRwD4A\";\r\n  // uSubMusic4.filter.channelId = \"UC2Qw1dzXDBAZPwS7zm37g8g\";\r\n\r\n  // ///////////////////////////////////////////////////////////\r\n  // //////////             Cool stuff             /////////////\r\n  // ///////////////////////////////////////////////////////////\r\n\r\n  let uSubStuff = new Subscription();\r\n  uSubStuff.channelName = \"The Atlantic\";\r\n  uSubStuff.channelId = \"UCK0z0_5uL7mb9IjntOKi5XQ\";\r\n  uSubStuff.filter.channelId = \"UCK0z0_5uL7mb9IjntOKi5XQ\";\r\n\r\n  let uSubStuff2 = new Subscription();\r\n  uSubStuff2.channelName = \"Vox\";\r\n  uSubStuff2.channelId = \"UCLXo7UDZvByw2ixzpQCufnA\";\r\n  uSubStuff2.filter.channelId = \"UCLXo7UDZvByw2ixzpQCufnA\";\r\n\r\n  let cShelfCool = new CustomShelf();\r\n  cShelfCool.title = \"Cool stuff\";\r\n  cShelfCool.fewSubs.push(uSubStuff, uSubStuff2);\r\n  cShelfCool.isSorted = true;\r\n  u.customShelfs.push(cShelfCool);\r\n\r\n  // ///////////////////////////////////////////////////////////\r\n  // //////////             Late Night             /////////\r\n  // ///////////////////////////////////////////////////////////\r\n\r\n  let uSubNight = new Subscription();\r\n  uSubNight.channelName = \"LastWeekTonight\";\r\n  uSubNight.channelId = \"UC3XTzVzaHQEd30rQbuvCtTQ\";\r\n  uSubNight.filter.channelId = \"UC3XTzVzaHQEd30rQbuvCtTQ\";\r\n\r\n  let uSubNight2 = new Subscription();\r\n  uSubNight2.channelName = \"Real Time with Bill Maher\";\r\n  uSubNight2.channelId = \"UCy6kyFxaMqGtpE3pQTflK8A\";\r\n  uSubNight2.filter.channelId = \"UCy6kyFxaMqGtpE3pQTflK8A\";\r\n\r\n  let uSubNight3 = new Subscription();\r\n  uSubNight3.channelName = \"The Daily Show with Trevor Noah\";\r\n  uSubNight3.channelId = \"UCwWhs_6x42TyRM4Wstoq8HA\";\r\n  uSubNight3.filter.channelId = \"UCwWhs_6x42TyRM4Wstoq8HA\";\r\n\r\n  let cShelfNight = new CustomShelf();\r\n  cShelfNight.title = \"Late night talks shows\";\r\n  cShelfNight.fewSubs.push(uSubNight, uSubNight2, uSubNight3);\r\n  cShelfNight.isSorted = true;\r\n\r\n  u.customShelfs.push(cShelfNight);\r\n\r\n  // ///////////////////////////////////////////////////////////\r\n  // //////////             Scince N stuff             /////////\r\n  // ///////////////////////////////////////////////////////////\r\n\r\n  let uSubSci = new Subscription();\r\n  uSubSci.channelName = \"3Blue1Brown\";\r\n  uSubSci.channelId = \"UCYO_jab_esuFRV4b17AJtAw\";\r\n  uSubSci.filter.channelId = \"UCYO_jab_esuFRV4b17AJtAw\";\r\n\r\n  let uSubSci2 = new Subscription();\r\n  uSubSci2.channelName = \"Vsauce\";\r\n  uSubSci2.channelId = \"UC6nSFpj9HTCZ5t-N3Rm3-HA\";\r\n  uSubSci2.filter.channelId = \"UC6nSFpj9HTCZ5t-N3Rm3-HA\";\r\n\r\n  let uSubSci3 = new Subscription();\r\n  uSubSci3.channelName = \"PBS Space Time\";\r\n  uSubSci3.channelId = \"UC7_gcs09iThXybpVgjHZ_7g\";\r\n  uSubSci3.filter.channelId = \"UC7_gcs09iThXybpVgjHZ_7g\";\r\n\r\n  let uSubSci4 = new Subscription();\r\n  uSubSci4.channelName = \"PBS Eons\";\r\n  uSubSci4.channelId = \"UCzR-rom72PHN9Zg7RML9EbA\";\r\n  uSubSci4.filter.channelId = \"UCzR-rom72PHN9Zg7RML9EbA\";\r\n\r\n  let uSubSci5 = new Subscription();\r\n  uSubSci5.channelName = \"Two Minute Papers\";\r\n  uSubSci5.channelId = \"UCbfYPyITQ-7l4upoX8nvctg\";\r\n  uSubSci5.filter.channelId = \"UCbfYPyITQ-7l4upoX8nvctg\";\r\n\r\n  let cShelfSci = new CustomShelf();\r\n  cShelfSci.title = \"Science N Stuff\";\r\n  cShelfSci.fewSubs.push(uSubSci, uSubSci2, uSubSci3, uSubSci4, uSubSci5);\r\n  cShelfSci.isSorted = true;\r\n  u.customShelfs.push(cShelfSci);\r\n\r\n  // ///////////////////////////////////////////////////////////\r\n  // //////////             Longer stuff              /////////////\r\n  // ///////////////////////////////////////////////////////////\r\n\r\n  let subTalk = new Subscription();\r\n  subTalk.channelName = \"FRONTLINE PBS | Official\";\r\n  subTalk.channelId = \"UC3ScyryU9Oy9Wse3a8OAmYQ\";\r\n  subTalk.filter.channelId = \"UC3ScyryU9Oy9Wse3a8OAmYQ\";\r\n\r\n  let subTalk2 = new Subscription();\r\n  subTalk2.channelName = \"Eric Weinstein\";\r\n  subTalk2.channelId = \"UCR85PW_B_7_Aisx5vNS7Gjw\";\r\n  subTalk2.filter.channelId = \"UCR85PW_B_7_Aisx5vNS7Gjw\";\r\n\r\n  let subTalk3 = new Subscription();\r\n  subTalk3.channelName = \"PowerfulJRE\";\r\n  subTalk3.channelId = \"UCzQUP1qoWDoEbmsQxvdjxgQ\";\r\n  subTalk3.filter.channelId = \"UCzQUP1qoWDoEbmsQxvdjxgQ\";\r\n\r\n  let subTalk4 = new Subscription();\r\n  subTalk4.channelName = \"The Rubin Report\";\r\n  subTalk4.channelId = \"UCJdKr0Bgd_5saZYqLCa9mng\";\r\n  subTalk4.filter.channelId = \"UCJdKr0Bgd_5saZYqLCa9mng\";\r\n\r\n  // let uSub6 = new Subscription()\r\n  // uSub6.channelName = 'Asian Boss'\r\n  // uSub6.channelId = 'UC2-_WWPT_124iN6jiym4fOw';\r\n  // uSub6.filter.channelId = \"UC2-_WWPT_124iN6jiym4fOw\";\r\n\r\n  let subTalk5 = new Subscription();\r\n  subTalk5.channelName = \"TED\";\r\n  subTalk5.channelId = \"UCAuUUnT6oDeKwE6v1NGQxug\";\r\n  subTalk5.filter.channelId = \"UCAuUUnT6oDeKwE6v1NGQxug\";\r\n\r\n  let cShelfTalk = new CustomShelf();\r\n  cShelfTalk.title = \"Talks, podcasts, lectures that I like\";\r\n  cShelfTalk.fewSubs.push(subTalk, subTalk2, subTalk3, subTalk4, subTalk5);\r\n  cShelfTalk.isSorted = true;\r\n  u.customShelfs.push(cShelfTalk);\r\n\r\n  // ///////////////////////////////////////////////////////////\r\n  // //////////             new & politics             /////////////\r\n  // ///////////////////////////////////////////////////////////\r\n\r\n  // let sub1 = new Subscription()\r\n  // sub1.channelName = \"The Hill\"\r\n  // sub1.channelId = \"UCPWXiRWZ29zrxPFIQT7eHSA\";\r\n  // sub1.filter.minDuration = \"1\"\r\n  // sub1.filter.maxDuration = \"0.5\"\r\n  // sub1.filter.channelId = \"UCPWXiRWZ29zrxPFIQT7eHSA\"\r\n\r\n  let sub1A = new Subscription();\r\n  sub1A.channelName = \"NBC News\";\r\n  sub1A.channelId = \"UCeY0bbntWzzVIaj2z3QigXg\";\r\n  sub1A.filter.minDuration = \"10\";\r\n  sub1A.filter.channelId = \"UCeY0bbntWzzVIaj2z3QigXg\";\r\n\r\n  let sub1B = new Subscription();\r\n  sub1B.channelName = \"CNN\";\r\n  sub1B.channelId = \"UCupvZG-5ko_eiXAupbDfxWw\";\r\n  sub1B.filter.minDuration = \"2\";\r\n  sub1B.filter.maxDuration = \"8\";\r\n  sub1B.filter.channelId = \"UCupvZG-5ko_eiXAupbDfxWw\";\r\n\r\n  let sub1C = new Subscription();\r\n  sub1C.channelName = \"Fox News\";\r\n  sub1C.channelId = \"UCXIJgqnII2ZOINSWNOGFThA\";\r\n  sub1C.filter.minDuration = \"6\";\r\n  sub1C.filter.channelId = \"UCXIJgqnII2ZOINSWNOGFThA\";\r\n\r\n  let cShelfNP = new CustomShelf();\r\n  cShelfNP.title = \"News\";\r\n  cShelfNP.fewSubs.push(sub1A, sub1B, sub1C);\r\n  cShelfNP.isSorted = true;\r\n  u.customShelfs.push(cShelfNP);\r\n\r\n  // ///////////////////////////////////////////////////////////\r\n  // //////////             Hot Babes              /////////////\r\n  // ///////////////////////////////////////////////////////////\r\n\r\n  // let subHot = new Subscription()\r\n  // subHot.channelName = \"Video Box\"\r\n  // subHot.channelId = \"UCeMFHOzX9MDWbr-pu2WdmVw\";\r\n  // subHot.filter.channelId = \"UCeMFHOzX9MDWbr-pu2WdmVw\"\r\n\r\n  // let subHot2 = new Subscription()\r\n  // subHot2.channelName = \"mineralblue\"\r\n  // subHot2.channelId = \"UC3IngBBUGFUduHp-7haK1lw\";\r\n  // subHot2.filter.channelId = \"UC3IngBBUGFUduHp-7haK1lw\"\r\n\r\n  // let subHot3 = new Subscription()\r\n  // subHot3.channelName = \"Twitche\"\r\n  // subHot3.channelId = \"UC97czRRaA5w-THZFIL-uk3Q\"\r\n  // subHot3.filter.channelId = \"UC97czRRaA5w-THZFIL-uk3Q\"\r\n\r\n  // let subHot4 = new Subscription()\r\n  // subHot4.channelName = \"Perfect Beauty\"\r\n  // subHot4.channelId = \"UCJ7sCYUdt15io_cyUX8zsLA\"\r\n  // subHot4.filter.channelId = \"UCJ7sCYUdt15io_cyUX8zsLA\"\r\n\r\n  // let cShelfHot = new CustomShelf()\r\n  // cShelfHot.title = \"Hot Babes\"\r\n  // cShelfHot.fewSubs.push(subHot, subHot2, subHot3, subHot4)\r\n  // cShelfHot.isSorted = true;\r\n  // u.customShelfs.push(cShelfHot)\r\n\r\n  // ///////////////////////////////////////////////////////////\r\n  // //////////             ??????????????             /////////\r\n  // ///////////////////////////////////////////////////////////\r\n\r\n  let uSubx = new Subscription();\r\n  uSubx.channelName = \"Google Developers\";\r\n  uSubx.channelId = \"UC_x5XG1OV2P6uZZ5FSM9Ttw\";\r\n  uSubx.filter.channelId = \"UC_x5XG1OV2P6uZZ5FSM9Ttw\";\r\n\r\n  let uSub1 = new Subscription();\r\n  uSub1.channelName = \"Key & Peele\";\r\n  uSub1.channelId = \"UCdN4aXTrHAtfgbVG9HjBmxQ\";\r\n  uSub1.filter.channelId = \"UCdN4aXTrHAtfgbVG9HjBmxQ\";\r\n\r\n  let cShelf1 = new CustomShelf();\r\n  cShelf1.title = \"Key & Peele\";\r\n  cShelf1.fewSubs.push(uSub1);\r\n  cShelf1.isSorted = false;\r\n\r\n  // let cShelf2 = new CustomShelf()\r\n  // cShelf2.title = \"Maddox\"\r\n  // cShelf2.fewSubs.push(uSub5)\r\n  // cShelf2.isSorted = false;\r\n\r\n  let cShelf3 = new CustomShelf();\r\n  cShelf3.title = \"Google Developers\";\r\n  cShelf3.fewSubs.push(uSubx);\r\n  cShelf3.isSorted = false;\r\n\r\n  // let cShelf3unB = new CustomShelf()\r\n  // cShelf3unB.title = \"Tommy Boy\"\r\n  // cShelf3unB.fewSubs.push(  uSub2)\r\n  // cShelf3unB.isSorted = false;\r\n\r\n  u.customShelfs.push(cShelf1);\r\n  //u.customShelfs.push(cShelf2)\r\n  u.customShelfs.push(cShelf3);\r\n\r\n  return u;\r\n\r\n  // ///////////////////////////////////////////////////////////\r\n  // //////////             Playlist              /////////////\r\n  // ///////////////////////////////////////////////////////////\r\n\r\n  // let uSubStuff = new Subscription()\r\n  // uSubStuff.channelName = 'RnB Motion'\r\n  // uSubStuff.channelId = 'UC17pt_Hz-hrpgtX8QS7zdPg';\r\n  // uSubStuff.filter.channelId = \"UC17pt_Hz-hrpgtX8QS7zdPg\";\r\n\r\n  // let uSubStuff = new Subscription()\r\n  // uSubStuff.channelName = 'Club Hit'\r\n  // uSubStuff.channelId = 'UC3a58O8ECq7ZB3i-fXtNxKg';\r\n  // uSubStuff.filter.channelId = \"UC3a58O8ECq7ZB3i-fXtNxKg\";\r\n\r\n  // let uSubStuff = new Subscription()\r\n  // uSubStuff.channelName = 'Top Dance Music'\r\n  // uSubStuff.channelId = 'UCrx9ufBK67m6VeCkfj8syWw';\r\n  // uSubStuff.filter.channelId = \"UCrx9ufBK67m6VeCkfj8syWw\";\r\n\r\n  // let sub3 = new Subscription()\r\n  // sub3.channelName = \"Deep Beat\"\r\n  // sub3.channelId = \"UC0CeYMTh57zSsbUKhsyOPfw\";\r\n  // sub3.filter.channelId = \"UC0CeYMTh57zSsbUKhsyOPfw\"\r\n}\r\n\r\n// export default {getMockUser, loginAndSet, sleep, proce3456ssUserFromServer, checkForRemovedSubs, checkForNewSubs}\r\n","import { createContext } from \"react\";\r\n\r\nexport const UserContext = createContext(null);\r\nexport const UserSettingsContext = createContext(null);\r\nexport const IsLoggedContext = createContext(null);\r\nexport const IsInitFinishedContext = createContext(false);\r\n","import React from 'react';\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer key='someFooter' className=\"page-footer\">\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col l6 s12\">\r\n            <h5 className=\"white-text\">Better Youtube</h5>\r\n            <p className=\"grey-text text-lighten-4\">by Chris Brodski</p>\r\n          </div>\r\n          <div className=\"col l4 offset-l2 s12\">\r\n            <h6 className=\"white-text\">Info</h6>\r\n            <ul>\r\n              <li><a className=\"grey-text text-lighten-3\" >Contact: cbrodski@gmail.com</a></li>\r\n              <li><a className=\"grey-text text-lighten-3\" href=\"https://github.com/Brodski/\"> Github</a> </li>\r\n              <li><a className=\"grey-text text-lighten-3\" href=\"https://www.linkedin.com/in/christopher-brodski/\">LinkedIn</a></li>\r\n\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"footer-copyright\">\r\n        <div className=\"container\">\r\n          <a className=\"grey-text text-lighten-4 right\" href=\"#!\" />\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  )\r\n}\r\nexport default Footer","import React, { Fragment } from \"react\";\r\n\r\nimport Footer from \"./Footer.jsx\";\r\n\r\nfunction About() {\r\n  return (\r\n    <Fragment>\r\n      <div className=\"container\">\r\n        <h1>About</h1>\r\n        <p className=\"flow-text\">\r\n          Tired of Youtube being a disorganized mess? Tired of channels that\r\n          upload 30 second trailer vids when you only care about the full length\r\n          video?\r\n          <br />\r\n          <br /> Better Youtube solves that and lets you control your feed.\r\n          <br />\r\n          <br /> Organize your subscriptions into groups and control the\r\n          minimun/maximun duration required for a video to show up in your feed\r\n        </p>\r\n        <div className=\"divider\" />\r\n        <h5 className=\"text-flow\">\r\n          This environment is for: {\" \"}\r\n          {process.env.REACT_APP_ENV_NAME}\r\n        </h5>\r\n        <h5 className=\"text-flow\">\r\n          DB, HTTP Server, and server at: {\" \"}\r\n          {process.env.REACT_APP_SPRINGB_ADDRESS.slice(0, -5)}\r\n        </h5>\r\n        <div className=\"about-div-padding\" />\r\n      </div>\r\n      <Footer />\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default About;\r\n","import React, { useContext } from 'react';\r\n\r\nimport { mdiGoogle } from '@mdi/js';\r\nimport Icon from '@mdi/react'\r\n\r\nimport * as GApiAuth from '../HttpRequests/GApiAuth'\r\nimport { IsLoggedContext } from '../Contexts/UserContext.js';\r\n\r\n\r\nconst LoginButton = () => {\r\n  const { isLogged2 } = useContext(IsLoggedContext);\r\n\r\n  return (\r\n    <a\r\n      className=\" btn \"\r\n      onClick={() => { isLogged2 ? GApiAuth.logout() : GApiAuth.login() }}\r\n    >\r\n      <Icon\r\n        path={mdiGoogle}\r\n        className=\"svg-mygoogle2\"\r\n        size={1}\r\n      />\r\n      {isLogged2 ? \"Logout\" : \"Login\"}\r\n    </a>\r\n  )\r\n}\r\nexport default LoginButton","import React from 'react';\r\n\r\n\r\nconst Logo = () => {\r\n\r\n  return (\r\n    <svg\r\n      className=\"svg-mygoogle2\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width=\"114px\"\r\n      height=\"35px\"\r\n      viewBox=\"0 0 114 35\"\r\n    >\r\n      <path d=\"M 9.09,2.24            C 0.39,5.20 2.23,14.51 2.11,19.91              2.12,23.41 2.23,28.78 5.30,31.18              9.42,34.40 24.32,33.49 29.97,33.48              33.85,33.47 40.30,33.61 43.16,30.53              44.93,28.64 45.14,26.26 45.32,23.87              45.66,19.18 46.57,8.18 43.16,4.54              40.29,1.46 34.09,1.69 30.21,1.68              24.02,1.67 14.92,1.28 9.09,2.24 Z            M 19.81,10.00            C 19.81,10.00 27.09,13.91 27.09,13.91              27.09,13.91 33.50,17.47 33.50,17.47              33.50,17.47 19.64,24.93 19.64,24.93              19.64,24.93 19.81,10.00 19.81,10.00 Z            M 53.19,2.50            C 53.19,2.50 59.39,2.50 59.39,2.50              60.43,2.50 61.23,2.75 61.78,3.23              62.33,3.73 62.61,4.33 62.61,5.05              62.61,5.66 62.41,6.18 62.02,6.61              61.76,6.90 61.37,7.13 60.86,7.30              61.63,7.50 62.20,7.84 62.56,8.34              62.93,8.84 63.11,9.45 63.11,10.19              63.11,10.79 62.98,11.34 62.72,11.81              62.46,12.29 62.10,12.67 61.66,12.95              61.38,13.13 60.96,13.26 60.41,13.34              59.66,13.45 59.16,13.50 58.91,13.50              58.91,13.50 53.19,13.50 53.19,13.50              53.19,13.50 53.19,2.50 53.19,2.50 Z            M 56.53,6.50            C 56.53,6.50 57.97,6.50 57.97,6.50              58.49,6.50 58.85,6.41 59.05,6.23              59.26,6.06 59.36,5.81 59.36,5.48              59.36,5.17 59.26,4.93 59.05,4.77              58.85,4.59 58.50,4.50 58.00,4.50              58.00,4.50 56.53,4.50 56.53,4.50              56.53,4.50 56.53,6.50 56.53,6.50 Z            M 56.53,11.50            C 56.53,11.50 58.22,11.50 58.22,11.50              58.79,11.50 59.19,11.36 59.42,11.08              59.66,10.80 59.78,10.42 59.78,9.95              59.78,9.52 59.66,9.17 59.42,8.91              59.19,8.64 58.79,8.50 58.22,8.50              58.22,8.50 56.53,8.50 56.53,8.50              56.53,8.50 56.53,11.50 56.53,11.50 Z            M 72.61,10.50            C 72.61,10.50 66.64,10.50 66.64,10.50              66.69,10.80 66.82,11.03 67.03,11.17              67.32,11.39 67.70,11.50 68.16,11.50              68.45,11.50 68.73,11.50 69.00,11.50              69.16,11.50 69.33,11.50 69.52,11.50              69.52,11.50 72.46,11.50 72.46,11.50              72.01,12.21 71.46,12.72 70.83,13.03              70.19,13.34 69.28,13.50 68.10,13.50              67.06,13.50 66.25,13.36 65.66,13.08              65.07,12.79 64.58,12.34 64.19,11.72              63.80,11.09 63.61,10.36 63.61,9.52              63.61,8.32 63.99,7.35 64.77,6.61              65.55,5.87 66.63,5.50 68.00,5.50              69.12,5.50 69.99,5.68 70.63,6.03              71.27,6.38 71.76,6.88 72.10,7.55              72.44,8.21 72.61,9.09 72.61,10.16              72.61,10.16 72.61,10.50 72.61,10.50 Z            M 69.58,8.50            C 69.52,8.15 69.36,7.89 69.11,7.73              68.86,7.58 68.53,7.50 68.13,7.50              67.65,7.50 67.27,7.62 66.99,7.84              66.81,7.99 66.69,8.21 66.64,8.50              66.64,8.50 69.58,8.50 69.58,8.50 Z            M 76.58,2.50            C 76.58,2.50 76.58,5.50 76.58,5.50              76.58,5.50 78.22,5.50 78.22,5.50              78.22,5.50 78.22,7.50 78.22,7.50              78.22,7.50 76.58,7.50 76.58,7.50              76.58,7.50 76.58,10.52 76.58,10.52              76.58,10.87 76.61,11.11 76.67,11.23              76.77,11.41 76.94,11.50 77.19,11.50              77.41,11.50 77.71,11.43 78.11,11.30              78.11,11.30 78.33,13.27 78.33,13.27              77.59,13.42 76.90,13.50 76.27,13.50              75.53,13.50 74.98,13.40 74.63,13.20              74.27,13.01 74.01,12.71 73.85,12.31              73.68,11.91 73.60,11.25 73.60,10.34              73.60,10.34 73.60,7.50 73.60,7.50              73.60,7.50 72.49,7.50 72.49,7.50              72.49,7.50 72.49,5.50 72.49,5.50              72.49,5.50 73.60,5.50 73.60,5.50              73.60,5.50 73.60,4.05 73.60,4.05              73.60,4.05 76.58,2.50 76.58,2.50 Z            M 82.58,2.50            C 82.58,2.50 82.58,5.50 82.58,5.50              82.58,5.50 84.22,5.50 84.22,5.50              84.22,5.50 84.22,7.50 84.22,7.50              84.22,7.50 82.58,7.50 82.58,7.50              82.58,7.50 82.58,10.52 82.58,10.52              82.58,10.87 82.61,11.11 82.67,11.23              82.77,11.41 82.94,11.50 83.19,11.50              83.41,11.50 83.71,11.43 84.11,11.30              84.11,11.30 84.33,13.27 84.33,13.27              83.59,13.42 82.90,13.50 82.27,13.50              81.53,13.50 80.98,13.40 80.63,13.20              80.27,13.01 80.01,12.71 79.85,12.31              79.68,11.91 79.60,11.25 79.60,10.34              79.60,10.34 79.60,7.50 79.60,7.50              79.60,7.50 78.49,7.50 78.49,7.50              78.49,7.50 78.49,5.50 78.49,5.50              78.49,5.50 79.60,5.50 79.60,5.50              79.60,5.50 79.60,4.05 79.60,4.05              79.60,4.05 82.58,2.50 82.58,2.50 Z            M 93.61,10.50            C 93.61,10.50 87.64,10.50 87.64,10.50              87.69,10.80 87.82,11.03 88.03,11.17              88.32,11.39 88.70,11.50 89.16,11.50              89.45,11.50 89.73,11.50 90.00,11.50              90.16,11.50 90.33,11.50 90.52,11.50              90.52,11.50 93.46,11.50 93.46,11.50              93.01,12.21 92.46,12.72 91.83,13.03              91.19,13.34 90.28,13.50 89.10,13.50              88.06,13.50 87.25,13.36 86.66,13.08              86.07,12.79 85.58,12.34 85.19,11.72              84.80,11.09 84.61,10.36 84.61,9.52              84.61,8.32 84.99,7.35 85.77,6.61              86.55,5.87 87.63,5.50 89.00,5.50              90.12,5.50 90.99,5.68 91.63,6.03              92.27,6.38 92.76,6.88 93.10,7.55              93.44,8.21 93.61,9.09 93.61,10.16              93.61,10.16 93.61,10.50 93.61,10.50 Z            M 90.58,8.50            C 90.52,8.15 90.36,7.89 90.11,7.73              89.86,7.58 89.53,7.50 89.13,7.50              88.65,7.50 88.27,7.62 87.99,7.84              87.81,7.99 87.69,8.21 87.64,8.50              87.64,8.50 90.58,8.50 90.58,8.50 Z            M 94.02,5.50            C 94.02,5.50 96.80,5.50 96.80,5.50              96.80,5.50 96.80,7.69 96.80,7.69              97.07,6.86 97.35,6.28 97.63,5.97              97.92,5.66 98.27,5.50 98.69,5.50              99.13,5.50 99.60,5.57 100.13,5.72              100.11,5.71 100.74,5.87 100.84,6.13              100.62,6.77 100.26,7.61 100.09,8.00              99.67,8.01 99.20,7.73 99.20,7.73              98.85,7.58 98.57,7.50 98.38,7.50              97.98,7.50 97.68,7.67 97.47,8.02              97.16,8.50 97.00,9.40 97.00,10.72              97.00,10.72 97.00,13.50 97.00,13.50              97.00,13.50 94.02,13.50 94.02,13.50              94.02,13.50 94.02,5.50 94.02,5.50 Z            M 48.10,20.50            C 48.10,20.50 51.78,20.50 51.78,20.50              51.78,20.50 53.94,23.91 53.94,23.91              53.94,23.91 56.11,20.50 56.11,20.50              56.11,20.50 59.78,20.50 59.78,20.50              59.78,20.50 55.60,26.89 55.60,26.89              55.60,26.89 55.60,31.50 55.60,31.50              55.60,31.50 52.28,31.50 52.28,31.50              52.28,31.50 52.28,26.89 52.28,26.89              52.28,26.89 48.10,20.50 48.10,20.50 Z            M 58.61,27.52            C 58.61,26.35 59.01,25.39 59.81,24.64              60.62,23.88 61.70,23.50 63.06,23.50              64.62,23.50 65.79,23.95 66.60,24.83              67.23,25.55 67.55,26.43 67.55,27.48              67.55,28.66 67.15,29.62 66.36,30.38              65.57,31.12 64.47,31.50 63.06,31.50              61.81,31.50 60.80,31.19 60.03,30.56              59.08,29.79 58.61,28.78 58.61,27.52 Z            M 61.60,27.50            C 61.60,28.18 61.74,28.68 62.02,29.02              62.30,29.34 62.65,29.50 63.08,29.50              63.51,29.50 63.85,29.34 64.13,29.02              64.41,28.70 64.55,28.18 64.55,27.47              64.55,26.80 64.41,26.31 64.13,25.98              63.85,25.66 63.51,25.50 63.10,25.50              62.66,25.50 62.30,25.67 62.02,26.00              61.74,26.32 61.60,26.82 61.60,27.50 Z            M 76.17,31.50            C 76.17,31.50 73.39,31.50 73.39,31.50              73.39,31.50 73.39,30.33 73.39,30.33              72.97,30.76 72.55,31.06 72.13,31.23              71.71,31.41 71.19,31.50 70.58,31.50              69.76,31.50 69.11,31.26 68.64,30.77              68.18,30.27 67.96,29.51 67.96,28.48              67.96,28.48 67.96,23.50 67.96,23.50              67.96,23.50 70.96,23.50 70.96,23.50              70.96,23.50 70.96,28.06 70.96,28.06              70.96,28.59 71.04,28.95 71.22,29.17              71.40,29.39 71.65,29.50 71.99,29.50              72.34,29.50 72.63,29.36 72.85,29.06              73.07,28.77 73.19,28.25 73.19,27.48              73.19,27.48 73.19,23.50 73.19,23.50              73.19,23.50 76.17,23.50 76.17,23.50              76.17,23.50 76.17,31.50 76.17,31.50 Z            M 76.42,20.50            C 76.42,20.50 86.52,20.50 86.52,20.50              86.52,20.50 86.52,22.50 86.52,22.50              86.52,22.50 83.13,22.50 83.13,22.50              83.13,22.50 83.13,31.50 83.13,31.50              83.13,31.50 79.81,31.50 79.81,31.50              79.81,31.50 79.81,22.50 79.81,22.50              79.81,22.50 76.42,22.50 76.42,22.50              76.42,22.50 76.42,20.50 76.42,20.50 Z            M 94.17,31.50            C 94.17,31.50 91.39,31.50 91.39,31.50              91.39,31.50 91.39,30.33 91.39,30.33              90.97,30.76 90.55,31.06 90.13,31.23              89.71,31.41 89.19,31.50 88.58,31.50              87.76,31.50 87.11,31.26 86.64,30.77              86.18,30.27 85.96,29.51 85.96,28.48              85.96,28.48 85.96,23.50 85.96,23.50              85.96,23.50 88.96,23.50 88.96,23.50              88.96,23.50 88.96,28.06 88.96,28.06              88.96,28.59 89.04,28.95 89.22,29.17              89.40,29.39 89.65,29.50 89.99,29.50              90.34,29.50 90.63,29.36 90.85,29.06              91.07,28.77 91.19,28.25 91.19,27.48              91.19,27.48 91.19,23.50 91.19,23.50              91.19,23.50 94.17,23.50 94.17,23.50              94.17,23.50 94.17,31.50 94.17,31.50 Z            M 95.00,20.50            C 95.00,20.50 98.00,20.50 98.00,20.50              98.00,20.50 98.00,24.84 98.00,24.84              98.30,24.40 98.64,24.06 99.02,23.84              99.39,23.62 99.81,23.50 100.28,23.50              101.23,23.50 102.01,23.84 102.63,24.52              103.25,25.18 103.56,26.14 103.56,27.39              103.56,28.23 103.42,28.96 103.14,29.61              102.86,30.25 102.46,30.72 101.96,31.03              101.46,31.34 100.90,31.50 100.30,31.50              99.77,31.50 99.29,31.36 98.86,31.08              98.53,30.86 98.17,30.45 97.78,29.86              97.78,29.86 97.78,31.50 97.78,31.50              97.78,31.50 95.00,31.50 95.00,31.50              95.00,31.50 95.00,20.50 95.00,20.50 Z            M 97.99,27.45            C 97.99,28.17 98.11,28.70 98.36,29.02              98.61,29.34 98.93,29.50 99.31,29.50              99.68,29.50 99.98,29.34 100.22,29.03              100.46,28.71 100.58,28.17 100.58,27.42              100.58,26.76 100.46,26.27 100.22,25.97              99.99,25.66 99.70,25.50 99.36,25.50              98.96,25.50 98.62,25.66 98.36,25.98              98.11,26.31 97.99,26.80 97.99,27.45 Z            M 112.61,28.50            C 112.61,28.50 106.64,28.50 106.64,28.50              106.69,28.80 106.82,29.03 107.03,29.17              107.32,29.39 107.70,29.50 108.16,29.50              108.45,29.50 108.73,29.50 109.00,29.50              109.16,29.50 109.33,29.50 109.52,29.50              109.52,29.50 112.46,29.50 112.46,29.50              112.01,30.21 111.46,30.72 110.83,31.03              110.19,31.34 109.28,31.50 108.10,31.50              107.06,31.50 106.25,31.36 105.66,31.08              105.07,30.79 104.58,30.34 104.19,29.72              103.80,29.09 103.61,28.36 103.61,27.52              103.61,26.32 103.99,25.35 104.77,24.61              105.55,23.87 106.63,23.50 108.00,23.50              109.12,23.50 109.99,23.68 110.63,24.03              111.27,24.38 111.76,24.88 112.10,25.55              112.44,26.21 112.61,27.09 112.61,28.16              112.61,28.16 112.61,28.50 112.61,28.50 Z            M 109.58,26.50            C 109.52,26.15 109.36,25.89 109.11,25.73              108.86,25.58 108.53,25.50 108.13,25.50              107.65,25.50 107.27,25.62 106.99,25.84              106.81,25.99 106.69,26.21 106.64,26.50              106.64,26.50 109.58,26.50 109.58,26.50 Z            M 96.78,7.77\" />\r\n    </svg>\r\n  )\r\n}\r\nexport default Logo","import { Link } from 'react-router-dom'\r\nimport React, { Fragment, useContext, useEffect, useState } from 'react';\r\n\r\nimport M from 'materialize-css';\r\n\r\nimport * as Common from '../BusinessLogic/Common.js';\r\nimport * as GApiAuth from '../HttpRequests/GApiAuth';\r\nimport { UserContext, UserSettingsContext } from '../Contexts/UserContext.js';\r\nimport LoginButton from './LoginButton'\r\nimport Logo from './Logo.jsx'\r\nimport NavImage from \"../Images/navbar/green-depth.jpg\";\r\n\r\nconst Nav = () => {\r\n\r\n  const { user, setUser } = useContext(UserContext);\r\n  const { setUserSettings } = useContext(UserSettingsContext);\r\n  const [isInitFinished, setIsInitFinished] = useState(false)\r\n\r\n\r\n  async function checkIfInitFinished() {\r\n    await GApiAuth.getGoogleAuth()\r\n    if (GApiAuth.isHeSignedIn() && user.isDemo) {\r\n      await Common.loginAndSet(setUser, setUserSettings)\r\n    }\r\n    setIsInitFinished(true)\r\n  }\r\n\r\n  useEffect(() => {\r\n    checkIfInitFinished()\r\n    let elems = document.querySelectorAll('.sidenav');\r\n    M.Sidenav.init(elems, {});\r\n  })\r\n\r\n  const Contents = () => {\r\n    return (\r\n      <Fragment>\r\n        <li> <Link to='/'> Home </Link> </li>\r\n        <li> <Link to='/customize'> Customize </Link> </li>\r\n        <li> <Link to='/about'> About </Link> </li>\r\n        <li>\r\n          {isInitFinished ? <LoginButton /> : null}\r\n        </li>\r\n      </Fragment>\r\n    )\r\n  }\r\n\r\n  const ProfileImg = () => {\r\n    return (\r\n      <div className=\"center-align nav-profile-icon\">\r\n        <img className=\"profile-pic\" src={user.pictureUrl} alt=\"profile img\" />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <nav>\r\n        <div className=\"nav-wrapper \">\r\n          <div className=\"left brand-logo  hide-on-small-only\">\r\n            <Link to='/'> <Logo /> </Link>\r\n          </div>\r\n          <a href=\"#\" data-target=\"mobile-demo\" className=\" hide-on-med-and-up sidenav-trigger\"><i className=\"material-icons\">menu</i></a>\r\n          <ul className=\"right  hide-on-small-only\">\r\n            <Contents />\r\n            <li>\r\n              {isInitFinished ? <ProfileImg /> : null}\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </nav>\r\n\r\n      <ul className=\"right sidenav hide-on-med-and-up\" id=\"mobile-demo\">\r\n        <li>\r\n          <div className=\"user-view\">\r\n            <div className=\"background\">\r\n              <img src={NavImage} alt=\"pretty design\" />\r\n            </div>\r\n            <div><img className=\"circle\" src={user.pictureUrl} alt=\"profile pic\" /> </div>\r\n            <div><span className=\"white-text email\"> </span></div>\r\n            <div><span className=\"white-text email\"> {user.username} </span></div>\r\n          </div>\r\n        </li>\r\n        <Contents />\r\n      </ul>\r\n    </Fragment>\r\n  );\r\n}\r\nexport default Nav;","/* eslint-disable no-restricted-syntax */\r\nimport CustomShelf from \"../Classes/CustomShelf\";\r\n\r\n\r\nexport function queryShelfs(userSettings, allowEmpty = false) {\r\n  //Loop though each shelf and each item on shelf\r\n\r\n  let newCustomShelfs = [];\r\n  let shelfsQ = [].slice.call(document.querySelectorAll(\".sh-QHack\"));\r\n  for (let i = 0; i < shelfsQ.length; i = i + 1) {\r\n    let tempShelf = new CustomShelf();\r\n    tempShelf.title = shelfsQ[i].dataset.name;\r\n    tempShelf.isSorted = shelfsQ[i].dataset.issorted == \"true\";\r\n\r\n    for (let sub of shelfsQ[i].querySelectorAll(\".sub-QHack\")) {\r\n      let idxs = _findSubIndex(sub.dataset.name, userSettings);\r\n      let tempSub = userSettings.customShelfs[idxs.shelfIndex].fewSubs[idxs.subIndex];\r\n      tempShelf.fewSubs.push(tempSub);\r\n    }\r\n    if (allowEmpty) {\r\n      newCustomShelfs.push(tempShelf);\r\n    } else if (tempShelf.fewSubs[0] && !allowEmpty) {\r\n      newCustomShelfs.push(tempShelf);\r\n    }\r\n  }\r\n  return newCustomShelfs;\r\n}\r\n\r\nfunction _findSubIndex(chName, userSettings) {\r\n  let subIndex;\r\n  let shelfIndex = 0;\r\n\r\n  for (let sh of userSettings.customShelfs) {\r\n    subIndex = sh.fewSubs.findIndex(s => s.channelName === chName);\r\n    if (subIndex > -1) {\r\n      break;\r\n    }\r\n    shelfIndex = shelfIndex + 1;\r\n  }\r\n  return { shelfIndex, subIndex };\r\n}\r\n\r\n/////////////////////////////////////////////////////////////////////////\r\n\r\n// Debug button\r\n// export function logAllShelfs() {\r\n//   let shelfs = [].slice.call(document.querySelectorAll(\".subListWrapper\"));\r\n//   console.log(\"-----------shelfs-----------\");\r\n//   console.log(shelfs);\r\n\r\n//   for (let i = 0; i < shelfs.length; i = i + 1) {\r\n//     console.log(`${i} ++ Shelf ++`);\r\n//     for (let sub of shelfs[i].querySelectorAll(\".sub-QHack\")) {\r\n//       console.log(sub);\r\n//       console.log(sub.dataset);\r\n//       console.log(sub.id);\r\n//       console.log(sub.textContent);\r\n//     }\r\n//   }\r\n// }\r\n\r\n// //Debug button\r\n// export function logIds() {\r\n//   let shelfs = [].slice.call(document.querySelectorAll(\".subListWrapper\"));\r\n//   console.log(\"----------- I D S -----------\");\r\n//   console.log(shelfs);\r\n//   for (let i = 0; i < shelfs.length; i = i + 1) {\r\n//     console.log(`${i} ++ Shelf ++`);\r\n//     for (let sub of shelfs[i].querySelectorAll(\".subitem\")) {\r\n//       console.log(sub);\r\n//       console.log(sub.id);\r\n//     }\r\n//   }\r\n// }","import React, { useContext, useEffect, useState } from 'react';\r\n\r\nimport Modal from 'react-modal';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { UserSettingsContext } from '../Contexts/UserContext.js'\r\nimport Filter from '../Classes/Filter';\r\nimport Pic from '../Images/cogs2.png'\r\n\r\n\r\nfunction FilterDialog(props) {\r\n  const { userSettings, setUserSettings } = useContext(UserSettingsContext);\r\n  const [modalIsOpen, setIsOpen] = useState(false);\r\n  const [minDur, setMinDur] = useState()\r\n  const [maxDur, setMaxDur] = useState()\r\n\r\n  const { bindToId } = props\r\n  const { subObj: { channelName } } = props\r\n\r\n  FilterDialog.propTypes = {\r\n    bindToId: PropTypes.string.isRequired,\r\n    subObj: PropTypes.shape({\r\n      channelId: PropTypes.string,\r\n      channelName: PropTypes.string.isRequired,\r\n      filter: PropTypes.object.isRequired,\r\n    }).isRequired\r\n  }\r\n\r\n  useEffect(() => {\r\n\r\n    if (!document.querySelectorAll(`#${bindToId}`)[1]) {\r\n      Modal.setAppElement(`#${bindToId}`)\r\n    }\r\n    setMinDur(props.subObj.filter.minDuration)\r\n    setMaxDur(props.subObj.filter.maxDuration)\r\n  }, [userSettings])\r\n\r\n\r\n  const handleMinDur = (e) => {\r\n    setMinDur(e.target.value)\r\n  }\r\n  const handleMaxDur = (e) => {\r\n    setMaxDur(e.target.value)\r\n  }\r\n\r\n  const MaxMinDurationDropdown = ({ maxOrMinState, maxOrMinHandler, firstValue }) => {\r\n    return (\r\n      <div className=\"select\">\r\n        <select className=\"  browser-default\" value={maxOrMinState} onChange={maxOrMinHandler}>\r\n          <option value={firstValue}> Off  </option>\r\n          <option value=\"0.5\"> 30 seconds </option>\r\n          <option value=\"1\" >  1 minutes </option>\r\n          <option value=\"2\" >  2 minutes</option>\r\n          <option value=\"3\" >  3 minutes</option>\r\n          <option value=\"4\" >  4 minutes</option>\r\n          <option value=\"5\" >  5 minutes</option>\r\n          <option value=\"6\" >  6 minutes</option>\r\n          <option value=\"7\" >  7 minutes</option>\r\n          <option value=\"8\" >  8 minutes</option>\r\n          <option value=\"9\" >  9 minutes</option>\r\n          <option value=\"10\" > 10 minutes</option>\r\n          <option value=\"15\" > 15 minutes</option>\r\n          <option value=\"30\" > 30 minutes</option>\r\n          <option value=\"45\" > 45 minutes</option>\r\n          <option value=\"60\" > 60 minutes</option>\r\n        </select>\r\n        <div className=\"select__arrow\" />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  function findIndexesOfChannelName() {\r\n    let subIndex;\r\n    let shelfIndex = 0;\r\n    for (let sh of userSettings.customShelfs) {\r\n      subIndex = sh.fewSubs.findIndex(s => s.channelName == channelName)\r\n      if (subIndex > -1) {\r\n        break\r\n      }\r\n      shelfIndex = shelfIndex + 1;\r\n    }\r\n    return { subIndex, shelfIndex }\r\n  }\r\n\r\n  function save(e) {\r\n    e.preventDefault()\r\n    let { subIndex, shelfIndex } = findIndexesOfChannelName()\r\n\r\n    setUserSettings(prevSettings => {\r\n      let newU = prevSettings\r\n      let newFilter = new Filter()\r\n      newFilter.channelId = prevSettings.customShelfs[shelfIndex].fewSubs[subIndex].filter.channelId\r\n      newFilter.maxDuration = maxDur\r\n      newFilter.minDuration = minDur\r\n      newU.customShelfs[shelfIndex].fewSubs[subIndex].filter = newFilter\r\n\r\n      return newU\r\n\r\n    })\r\n    setIsOpen(false)\r\n  }\r\n\r\n  function close(e) {\r\n    e.preventDefault();\r\n    setMinDur(props.subObj.filter.minDuration)\r\n    setMaxDur(props.subObj.filter.maxDuration)\r\n\r\n    setIsOpen(false)\r\n  }\r\n\r\n  return (\r\n    //  Modal Trigger\r\n    <div>\r\n      <div className='valign-wrapper'>\r\n        <a\r\n          className=\"btn filt-button z-depth-0\"\r\n          onClick={() => { setIsOpen(true) }}\r\n        >\r\n          <i className=\"time-icon-help material-icons \">timelapse</i>\r\n        </a>\r\n      </div>\r\n      {/* Modal Content */}\r\n      {/* TODO No idea why submitting via Enter key is not working (form, input, ect) */}\r\n      <Modal\r\n        isOpen={modalIsOpen}\r\n        onRequestClose={close}\r\n        shouldCloseOnEsc={true}\r\n        className=\"Modal card horizontal \"\r\n        overlayClassName=\"Overlay\"\r\n      >\r\n        <div className=\"card-image filter-image hide-on-small-only\">\r\n          <img src={Pic} />\r\n        </div>\r\n        <div className=\"  filt-content\">\r\n          {/* ONE */}\r\n          <div>\r\n            <h5 className=\"flow-text\"> {channelName}</h5>\r\n            <div className=\"divider\" />\r\n          </div>\r\n          {/* {TWO} */}\r\n          {/* TODO Could be better */}\r\n          <div>\r\n            <div className=\"filt-drop-wrap\" >\r\n              <i className=\"icon-filt-min hide-on-small-only material-icons \">\r\n                vertical_align_top\r\n                </i>\r\n              <div>Only show videos that are longer than: </div>\r\n            </div>\r\n            <div className=\"valign-wrapper select-wrap\">\r\n              <MaxMinDurationDropdown\r\n                maxOrMinState={minDur}\r\n                maxOrMinHandler={handleMinDur}\r\n                firstValue=\"0\"\r\n              />\r\n            </div>\r\n            {/* {THREE} */}\r\n            <div className=\"filt-drop-wrap\">\r\n              <i className=\" icon-filt-max hide-on-small-only material-icons \">\r\n                vertical_align_bottom\r\n                </i>\r\n              <div>Only show videos that are shorter than: </div>\r\n            </div>\r\n            <div className=\"filt-select-wrap\">\r\n              <MaxMinDurationDropdown\r\n                maxOrMinState={maxDur}\r\n                maxOrMinHandler={handleMaxDur}\r\n                firstValue=\"Infinity\"\r\n              />\r\n            </div>\r\n            <div className=\"rename-mod-btn\">\r\n              <a type=\"submit\" onClick={save} className=\" btn\">Save</a>\r\n              <a onClick={close} className=\" btn\">Close</a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n\r\n\r\n  )\r\n}\r\nexport default FilterDialog","import React, { useContext, useEffect, useState } from 'react';\r\n\r\nimport Modal from 'react-modal';\r\nimport PropTypes from 'prop-types'\r\n\r\nimport { UserSettingsContext } from '../Contexts/UserContext.js'\r\nimport Pic from '../Images/pen3.png'\r\n\r\nfunction RenameDialog(props) {\r\n  \r\n  const { userSettings, setUserSettings } = useContext(UserSettingsContext);\r\n  const [modalIsOpen, setIsOpen] = useState(false);\r\n  const [newName, setNewName] = useState()\r\n\r\n  RenameDialog.propTypes = {\r\n    bindToId: PropTypes.string.isRequired,\r\n    shelfObj: PropTypes.shape({\r\n      fewSubs: PropTypes.array.isRequired,\r\n      isSorted: PropTypes.bool.isRequired,\r\n      title: PropTypes.string.isRequired\r\n    }).isRequired\r\n  }\r\n\r\n  function close(e) {\r\n    e.preventDefault();\r\n    setIsOpen(false)\r\n  }\r\n\r\n  function save(e) {\r\n    e.preventDefault();\r\n    setIsOpen(false)\r\n    setUserSettings(prev => {\r\n      let i = userSettings.customShelfs.indexOf(props.shelfObj)\r\n      prev.customShelfs[i].title = newName\r\n      return prev\r\n    })\r\n    props.updateForce()\r\n  }\r\n\r\n  function changeHandler(e) {\r\n    setNewName(e.target.value)\r\n  }\r\n\r\n  useEffect(() => {\r\n    Modal.setAppElement(`#${props.bindToId}`)\r\n    setNewName(props.shelfObj.title)\r\n  }, [])\r\n\r\n  return (\r\n    <div>\r\n      <a>\r\n        <i\r\n          onClick={() => setIsOpen(true)}\r\n          className=\" rename-icon material-icons\"\r\n        >edit\r\n          </i>\r\n      </a>\r\n      <Modal\r\n        isOpen={modalIsOpen}\r\n        onRequestClose={() => setIsOpen(false)}\r\n        shouldCloseOnEsc={true}\r\n        className=\"Modal  card horizontal \"\r\n        overlayClassName=\"Overlay\"\r\n      >\r\n        <div className=\"card-image valign-wrapper hide-on-small-only\">\r\n          <img className=\"rename-image2 \" src={Pic} />\r\n        </div>\r\n        <div className=\" rename-content\">\r\n          <form onSubmit={save}>\r\n            <div>\r\n              <h5 className=\"flow-text\"> Rename </h5>\r\n              <div className=\"divider\" />\r\n            </div>\r\n            <div>\r\n              <div className=\"input-field\">\r\n                <i className=\"material-icons prefix  \">mode_edit</i>\r\n                <input\r\n                  value={newName}\r\n                  type=\"text\"\r\n                  onChange={changeHandler}\r\n                />\r\n              </div>\r\n              <div className=\"rename-mod-btn\">\r\n                <a type=\"submit\" onClick={save} className=\" btn\">Rename</a>\r\n                <a onClick={close} className=\" btn\">Close</a>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  )\r\n}\r\nexport default RenameDialog","import React, { useContext, useEffect, useState } from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport Sortable from 'sortablejs';\r\nimport nextId from \"react-id-generator\";\r\n\r\nimport * as stLogic from '../BusinessLogic/SettingsLogic';\r\nimport { UserSettingsContext } from '../Contexts/UserContext.js'\r\nimport FilterDialog from './FilterDialog.jsx';\r\nimport RenameDialog from './RenameDialog.jsx';\r\n\r\nconst ShelfSetting = (props) => {\r\n  const { userSettings, setUserSettings } = useContext(UserSettingsContext);\r\n\r\n  const { shelf: { isSorted } } = props\r\n  const { shelf: { fewSubs } } = props\r\n  const { shelf: { title } } = props\r\n  const { bindToId } = props\r\n\r\n  ShelfSetting.propTypes = {\r\n    bindToId: PropTypes.string.isRequired,\r\n    shelf: PropTypes.shape({\r\n      title: PropTypes.string.isRequired,\r\n      fewSubs: PropTypes.array.isRequired,\r\n      isSorted: PropTypes.bool.isRequired,\r\n    }).isRequired,\r\n  }\r\n  // dont delete subListWrapper\r\n  const subsDrag = 'subListWrapper'\r\n  const shelfDrag = 'draggable-shelf'\r\n  const emptySpaceDrag = 'unSortDndWrap'\r\n\r\n  // forceUpdate() for functional comp workaround https://reactgo.com/react-force-update-render/\r\n  let [, setState] = useState();\r\n  function updateForce() {\r\n    setState({});\r\n  }\r\n\r\n  const saveUi2Settings = () => {\r\n    setUserSettings(prevUserSetting => {\r\n      let newS = { ...prevUserSetting }\r\n      newS.customShelfs = stLogic.queryShelfs(userSettings, true)\r\n      return newS\r\n    })\r\n  }\r\n\r\n  function makeDraggableShared(selector, groupName) {\r\n    let nestedShelf = [].slice.call(document.querySelectorAll(selector));\r\n    let optionz = {\r\n      group: groupName,\r\n      animation: 150,\r\n      fallbackOnBody: true,\r\n      swapThreshold: 1,\r\n      forceFallback: true,\r\n      onEnd: function (evt) {\r\n        saveUi2Settings()\r\n      }\r\n    }\r\n\r\n    if (groupName === 'shelfsdnd') {\r\n      optionz = { ...optionz, handle: '.handle-shelf' }\r\n    }\r\n\r\n    for (let i = 0; i < nestedShelf.length; i = i + 1) {\r\n      new Sortable(nestedShelf[i], optionz)\r\n    }\r\n  }\r\n\r\n  const RenameDialogAux = () => {\r\n    if (isSorted) {\r\n      return (\r\n        <RenameDialog\r\n          shelfObj={props.shelf}\r\n          bindToId={props.bindToId}\r\n          updateForce={updateForce}\r\n        />\r\n      )\r\n    }\r\n    return null\r\n  }\r\n\r\n  // Don't delete sub-QHack\r\n  // Don't delete subitem\r\n  const itemz = fewSubs.map((s, idx) => {\r\n    let id = nextId('subid-')\r\n    return (\r\n      <div key={id} id={id} className=\" valign-wrapper shelf-text subitem handle-sub\">\r\n        <div data-name={s.channelName} className=\"set-sh-textaux sub-QHack \">\r\n          {s.channelName}\r\n        </div>\r\n        <FilterDialog\r\n          subObj={s}\r\n          bindToId={id}\r\n        />\r\n      </div>\r\n    )\r\n  })\r\n\r\n  useEffect(() => {\r\n    makeDraggableShared(`.${subsDrag}`, 'subscriptions')\r\n    makeDraggableShared(`.${shelfDrag}`, 'shelfsdnd')\r\n    makeDraggableShared(`.${emptySpaceDrag}`, 'subscriptions')\r\n  }, [])\r\n\r\n  // Don't delete sh-Qhack.\r\n  let shelfClasses = \"sh-QHack hoverable card \"\r\n  let auxShelfClasses = isSorted ? \" \" : \" unsort-shelf\"\r\n  shelfClasses = `${shelfClasses} ${auxShelfClasses}`\r\n  let unSortDndWrap = isSorted ? \"\" : emptySpaceDrag\r\n  let dragClass = isSorted ? shelfDrag : \"\"\r\n  let titleReal = isSorted ? title : \"Your Subscriptions\"\r\n\r\n  return (\r\n    <div className={`${dragClass} shContainer`}>\r\n      <div className={shelfClasses} data-name={title} data-issorted={isSorted}>\r\n        <div id={bindToId} className=\" valign-wrapper shelf-title-wrap\">\r\n          <div>\r\n            <h6 className=\" valign-wrapper shelf-title\">\r\n              {isSorted\r\n                ? <i className=\" handle-shelf material-icons\" >drag_handle</i>\r\n                : <span className=\"set-sh-unsort-pad\" />}\r\n              <div className=\"shelf-title2\"> {titleReal}   </div>\r\n            </h6>\r\n          </div>\r\n          <RenameDialogAux />\r\n        </div>\r\n        <div className={subsDrag}>\r\n          {itemz}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default ShelfSetting","import React, { Fragment, useContext, useEffect } from 'react';\r\n\r\nimport M from 'materialize-css'\r\nimport PropTypes from 'prop-types';\r\nimport nextId from \"react-id-generator\";\r\n\r\nimport * as stLogic from '../BusinessLogic/SettingsLogic';\r\nimport { UserSettingsContext } from '../Contexts/UserContext.js'\r\nimport CustomShelf from '../Classes/CustomShelf'\r\nimport ShelfSetting from './ShelfSetting.jsx';\r\n\r\n\r\n// SortedShelfs = the containers on the right\r\n// UnsortedShelfs=\"Your Subscriptions\" on the left\r\nconst AllShelfs = (props) => {\r\n\r\n  const { userSettings, setUserSettings } = useContext(UserSettingsContext);\r\n  const { save } = props\r\n\r\n  AllShelfs.propTypes = {\r\n    save: PropTypes.func.isRequired\r\n  }\r\n\r\n  useEffect(() => {\r\n    let elems = document.querySelectorAll('select');\r\n    M.FormSelect.init(elems, {});\r\n  }, [])\r\n\r\n  function addShelf() {\r\n\r\n    // Get the current state of all shelfs, then push new shelf\r\n    setUserSettings(prevUserSetting => {\r\n      let newS = { ...prevUserSetting }\r\n      newS.customShelfs = stLogic.queryShelfs(userSettings, true)\r\n\r\n      let cs = new CustomShelf()\r\n      cs.title = \"New Shelf\"\r\n      cs.isSorted = true;\r\n      newS.customShelfs.push(cs)\r\n      return newS\r\n    })\r\n  }\r\n\r\n  function prepTheYourSubscriptionsShelf() {\r\n\r\n    // NOTE: I want to run: \"userSettings.convertUnSortedShelfsToSubs()\"  but cant b/c spred operator ({...prevUserSetting}) does not maintian the objects class methods\r\n    let aux_unSortedSh = userSettings.customShelfs.filter(sh => { return !sh.isSorted })\r\n    let unSortedSubs = []\r\n    aux_unSortedSh.forEach(sh => {\r\n      sh.fewSubs.forEach(sub => { unSortedSubs = unSortedSubs.concat(sub) })\r\n    })\r\n    let unSortedSh = [new CustomShelf()]\r\n    unSortedSh[0].isSorted = false\r\n    unSortedSh[0].title = \"Your Subscriptions\"\r\n    unSortedSh[0].fewSubs = unSortedSubs\r\n\r\n    return unSortedSh\r\n  }\r\n\r\n  function prepSortedShelfs() {\r\n\r\n    let sortedSh = userSettings.customShelfs.filter(sh => { return sh.isSorted })\r\n    if (!sortedSh[0]) {\r\n      let c = new CustomShelf();\r\n      c.title = 'New Shelf'\r\n      c.isSorted = true\r\n      c.customShelfs = []\r\n      sortedSh.push(c)\r\n    }\r\n    return sortedSh\r\n  }\r\n\r\n  const SortedShelfs = () => {\r\n    \r\n    let sortedSh = prepSortedShelfs()\r\n    let sortedShelfz = sortedSh.map(sh => {\r\n      let id = nextId('shelfid-')\r\n      return (\r\n        <ShelfSetting\r\n          key={id}\r\n          bindToId={id}\r\n          shelf={sh}\r\n\r\n        />\r\n      )\r\n    })\r\n    return (\r\n      <div>\r\n        {sortedShelfz}\r\n        <div className=\"center-align\">\r\n          <a\r\n            id=\"add-more-btn\"\r\n            onClick={addShelf}\r\n            className=\" btn\"\r\n          >\r\n            <i className=\" material-icons\">add</i>\r\n          </a>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n  // UnsortedShelfs=\"Your Subscriptions\" on the left\r\n  const UnSortedShelfs = () => {\r\n    let unSortedSh = prepTheYourSubscriptionsShelf()\r\n\r\n    let unSortedshelfz = unSortedSh.map(sh => {\r\n      let id = nextId('unsortShelf-')\r\n      return (\r\n        <ShelfSetting\r\n          key={id}\r\n          bindToId={id}\r\n          shelf={sh}\r\n        />\r\n      )\r\n    })\r\n    return (\r\n      <div>\r\n        {unSortedshelfz}\r\n        <div className='div-aux' />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className=\"set-top-bothalf\">\r\n        <a className=\" btn \" onClick={save}>Save</a>\r\n      </div>\r\n      <div className=\"row \">\r\n        <div className=\"col m6 s12\">\r\n          <UnSortedShelfs />\r\n        </div>\r\n        <div className=\"col m6 s12\">\r\n          <SortedShelfs />\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  )\r\n}\r\nexport default AllShelfs","import React, { Fragment, useContext } from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { IsLoggedContext, UserContext } from '../Contexts/UserContext.js';\r\n\r\nconst GreetingsMsg = (props) => {\r\n\r\n  GreetingsMsg.propTypes = {\r\n    isSettingsPage: PropTypes.bool,\r\n  }\r\n\r\n  GreetingsMsg.defaultProps = {\r\n    isSettingsPage: false,\r\n  };\r\n\r\n  const { isSettingsPage } = props\r\n  const { isLogged2, setIsLogged2 } = useContext(IsLoggedContext);\r\n  const { user, setUser } = useContext(UserContext);\r\n\r\n  const LoggedOut = () => {\r\n    let extraClasses = isSettingsPage ? \"left\" : \"center-align\";\r\n    return (\r\n      <div className={` demo-greeting-wrap ${extraClasses}`}>\r\n        <div className=\"flow-text\">\r\n          Currently using a demo profile.\r\n          <br />\r\n          Log in to customize your homepage\r\n        </div>\r\n        {!isSettingsPage ? <div className='div-aux' /> : null}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const LoggedIn = () => {\r\n    let extraClasses = isSettingsPage ? \"left\" : \"\";\r\n    return (\r\n      <div className={`profile-greeting-wrap  ${extraClasses}`}>\r\n        <h4 className=\"profile-msg2 \">\r\n          Hi, {user.username}\r\n        </h4>\r\n        {!isSettingsPage ? <div className='div-aux' /> : null}\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\n  return (\r\n    <Fragment>\r\n      {isLogged2 === true && !user.isDemo ? <LoggedIn /> : <LoggedOut />}\r\n    </Fragment>\r\n  )\r\n}\r\nexport default GreetingsMsg\r\n\r\n","import React, { Fragment, useState } from 'react';\r\n\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\r\nimport { Carousel } from 'react-responsive-carousel';\r\nimport Modal from 'react-modal';\r\n\r\nimport Drag1 from '../Images/Tutorial/drag3.png';\r\nimport Drag2 from '../Images/Tutorial/drag-sub2.png';\r\nimport Filt6 from '../Images/Tutorial/tut-filt-combo2.png';\r\nimport Order1 from '../Images/Tutorial/order2.png';\r\nimport Order2 from '../Images/Tutorial/notice-with-arrow.png';\r\n\r\nconst HowTo = () => {\r\n\r\n  const [isModalOpen, setIsModalOpen] = useState(false)\r\n\r\n  const TheCarousel = () => {\r\n    return (\r\n      <Carousel\r\n        showArrows={true}\r\n        showStatus={false}\r\n        showThumbs={false}\r\n        dynamicHeight={true}\r\n        useKeyboardArrows={true}\r\n        infiniteLoop={true}\r\n      >\r\n        <div>\r\n          <img className=\"cara-help\" src={Drag2} />\r\n          <p className=\"legend\">Click & drag to order your subscriptions</p>\r\n        </div>\r\n        <div>\r\n          <img className=\"cara-help\" src={Drag1} />\r\n          <p className=\"legend\">Click & drag to order your subscriptions</p>\r\n        </div>\r\n        <div>\r\n          <img className=\"cara-help\" src={Filt6} />\r\n          <p className=\"legend\">Choose the min or max of a subscription's videos</p>\r\n        </div>\r\n        <div>\r\n          <img className=\"cara-help\" src={Order1} />\r\n          <p className=\"legend\">Loading order - right side first</p>\r\n        </div>\r\n        <div>\r\n          <img className=\"cara-help\" src={Order2} />\r\n          <p className=\"legend\">Loading order </p>\r\n        </div>\r\n      </Carousel>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      {/* Modal Trigger */}\r\n      <div className='set-howto2 valign-wrapper'>\r\n        <i\r\n          className=\"set-howto-aux  z-depth-0 material-icons\"\r\n          onClick={() => { setIsModalOpen(true); }}\r\n        >info_outline\r\n        </i>\r\n      </div>\r\n\r\n      {/* Modal Content */}\r\n      <Modal\r\n        isOpen={isModalOpen}\r\n        onRequestClose={() => { setIsModalOpen(false) }}\r\n        shouldCloseOnEsc={true}\r\n        className=\"Modal \"\r\n        overlayClassName=\"Overlay\"\r\n      >\r\n        {/* solves a mem-leak . \"To fix, cancel all subscriptions and async...\" */}\r\n        {isModalOpen ? <TheCarousel /> : null}\r\n      </Modal>\r\n    </Fragment>\r\n  );\r\n}\r\nexport default HowTo","import React from 'react';\r\nimport ReactLoading from 'react-loading';\r\nimport nextId from \"react-id-generator\";\r\n\r\nconst LoadingMain = () => {\r\n  return (\r\n    <div key={nextId('loaderid-')} className=\"loading-main-animation\">\r\n      <ReactLoading type='spinningBubbles' color='black' />\r\n    </div>\r\n  )\r\n}\r\nexport default LoadingMain","import React, { useEffect, useState } from 'react';\r\n\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nconst PostSave = () => {\r\n\r\n  const [doIt, setDoIt] = useState(false)\r\n\r\n  useEffect(() => {\r\n\r\n    // fixes mem-leak. \"To fix, cancel all subscriptions and asynchronous tasks in a useEffect cleanup function\"\r\n    let t = setTimeout(() => { setDoIt(true) }, 1000)\r\n    return () => {\r\n      clearTimeout(t)\r\n    }\r\n  })\r\n\r\n  return (\r\n    <div className='align-center'>\r\n      {doIt ? <Redirect to='/' /> : <div className='flow-text'> THANK YOU </div>}\r\n    </div>\r\n  )\r\n}\r\nexport default PostSave","import React, { Fragment, useContext, useEffect, useState } from 'react';\r\n\r\nimport * as ServerEndpoints from '../HttpRequests/ServerEndpoints';\r\nimport * as stLogic from '../BusinessLogic/SettingsLogic';\r\nimport {\r\n  IsInitFinishedContext,\r\n  UserContext,\r\n  UserSettingsContext\r\n} from '../Contexts/UserContext.js'\r\nimport AllShelfs from './AllShelfs.jsx';\r\nimport Footer from '../Common/Footer.jsx';\r\nimport GreetingsMsg from '../Common/GreetingsMsg.jsx'\r\nimport HowTo from './HowTo'\r\nimport LoadingMain from '../Common/LoadingMain.jsx';\r\nimport PostSave from './PostSave.jsx';\r\n\r\nconst SettingsNEW = () => {\r\n  const { user, setUser } = useContext(UserContext);\r\n  const { userSettings, setUserSettings } = useContext(UserSettingsContext);\r\n  const { isInitFinished2 } = useContext(IsInitFinishedContext);\r\n\r\n  const [shouldRedirect, setShouldRedirect] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setUserSettings(user)\r\n  }, []);\r\n\r\n  function setAndManageData(auxNewCustomShelfs) {\r\n    //TODO looks a bit silly\r\n    setUserSettings(prevUserSetting => {\r\n      let newS = { ...prevUserSetting }\r\n      newS.customShelfs = auxNewCustomShelfs\r\n      return newS\r\n    })\r\n    setUser(prevUserSetting => {\r\n      let newS = { ...prevUserSetting }\r\n      newS.customShelfs = auxNewCustomShelfs\r\n      return newS\r\n    })\r\n\r\n  }\r\n\r\n  async function save() {\r\n    let newSet = { ...userSettings }\r\n    let newCustomShelfs = stLogic.queryShelfs(userSettings)\r\n    let auxNewCustomShelfs = newCustomShelfs.filter(sh => sh.isSorted)\r\n    let yourSubscriptionsShelf = newCustomShelfs.filter(sh => !sh.isSorted)[0]\r\n\r\n    // push all the subs (converted to shelfs), which could be found on the left container, to the end of all the other of the shelfs on the right\r\n    if (yourSubscriptionsShelf) {\r\n      let converted = yourSubscriptionsShelf.convertAllSubsToShelfs()\r\n      auxNewCustomShelfs.push(...converted)\r\n      newSet.customShelfs = auxNewCustomShelfs\r\n    }\r\n    if (!user.isDemo) {\r\n      newSet.customShelfs = newSet.customShelfs.filter(sh => sh.fewSubs[0])\r\n      ServerEndpoints.saveUser(newSet)\r\n    }\r\n    setAndManageData(auxNewCustomShelfs)\r\n    setShouldRedirect(true)\r\n  }\r\n\r\n  const LoadShelfs = () => {\r\n    if (isInitFinished2) {\r\n      return (<AllShelfs save={save} />)\r\n    }\r\n    return (<LoadingMain />)\r\n  }\r\n\r\n  const Customize = () => {\r\n    return (\r\n      <div>\r\n        <h4 className=\"set-top-title\"> Customize <HowTo /> </h4>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n\r\n      <div className=\"container\">\r\n        <div className=\"\">\r\n          <div className=\"set-top-tophalf \">\r\n            {isInitFinished2 ? <GreetingsMsg isSettingsPage={true} /> : null}\r\n            {isInitFinished2 ? <Customize /> : null}\r\n          </div>\r\n          <div className='div-aux' />\r\n        </div>\r\n        {shouldRedirect\r\n          ? <PostSave />\r\n          : <LoadShelfs />}\r\n        <div className='div-aux about-div-padding' />\r\n      </div>\r\n      {isInitFinished2 ? <Footer /> : null}\r\n    </Fragment>\r\n  );\r\n}\r\nexport default SettingsNEW","class VideoResponse {\r\n  constructor() {\r\n    this.contentDetails = {};\r\n    this.statistics = {};\r\n    this.snippet = {\r\n      thumbnails: {\r\n        default: {},\r\n        medium: {},\r\n        high: {},\r\n        standard: {},\r\n        maxres: {}\r\n      }\r\n    };\r\n  }\r\n}\r\nexport default VideoResponse;\r\n","import Filter from \"./Filter\";\r\nimport VideoResponse from \"./VideoResponse\";\r\n\r\nclass FinalShelfs {\r\n  constructor() {\r\n    this.shelfs = [\r\n      {\r\n        title: \"\",\r\n        filters: [new Filter()],\r\n        videos: [new VideoResponse()]\r\n      }\r\n    ];\r\n  }\r\n}\r\nexport default FinalShelfs;\r\n","import React from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport humanFormat from 'human-format';\r\nimport moment from 'moment';\r\n\r\nconst Video = (props) => {\r\n\r\n  Video.propTypes = {\r\n    video: PropTypes.shape({\r\n      contentDetails: PropTypes.object.isRequired,\r\n      id: PropTypes.string.isRequired,\r\n      snippet: PropTypes.object.isRequired,\r\n      statistics: PropTypes.object.isRequired,\r\n    }).isRequired\r\n  }\r\n\r\n\r\n  function formatViewCount() {\r\n    let viewCount;\r\n    if (props.video.statistics.viewCount) {\r\n      viewCount = humanFormat(parseInt(props.video.statistics.viewCount, 10), { decimals: 1 }).replace(/\\s/g, '');\r\n    } else {\r\n      viewCount = \"\"\r\n    }\r\n    return viewCount\r\n  }\r\n\r\n  function formatVidLength() {\r\n    let vDurAux = moment.duration(props.video.contentDetails.duration) \r\n    let vidDuration;\r\n    if (vDurAux.hours() > 0) {\r\n      // if seconds == 3, then \"03\" \r\n      vidDuration = `${vDurAux.hours()}:${vDurAux.minutes().toString().padStart(2, 0)}:${vDurAux.seconds().toString().padStart(2, 0)}` \r\n    } else {\r\n      vidDuration = `${vDurAux.minutes()}:${vDurAux.seconds().toString().padStart(2, 0)}`\r\n    }\r\n    return vidDuration\r\n  }\r\n\r\n  // const { video: {\r\n  //         id,\r\n  //         snippet: {  \r\n  //           title,\r\n  //           thumbnail: {\r\n  //               medium: {\r\n  //                 url: thumbnail\r\n  //               }\r\n  //             }\r\n  //           }\r\n  //         }             \r\n  //       } = props\r\n  //\r\n  // The destructuring of 3 variables (thumbnail, id, and title) is above. No way is that more readable. The performance gained is negligible. Sorry eslint. https://github.com/airbnb/javascript#destructuring--object\r\n  let thumbnail = props.video.snippet.thumbnails.medium.url\r\n  let id = props.video.id\r\n  let title = props.video.snippet.title\r\n\r\n  let channelName = props.video.snippet.channelTitle\r\n  let fromNowDate = new moment(props.video.snippet.publishedAt).fromNow()\r\n  // solution to Premium yt vids\r\n  let viewCount = formatViewCount()\r\n  let vidDuration = formatVidLength()\r\n\r\n  if (id) {\r\n    return (\r\n      <li className=\"collection-item video col s12 m4 l3 xl2\">\r\n        <a href={`https://www.youtube.com/watch?v=${id}`}>\r\n          <div className=\"vid-thumbnail-wrap\">\r\n            <img className=\"vid-thumnail\" alt=\"video-thumbnail\" src={thumbnail} />\r\n            <span className=\"vid-timestamp\"> {vidDuration} </span>\r\n          </div>\r\n        </a>\r\n        <div className=\"vid-all-text-wrap\">\r\n          <div className=\"vid-title\"> {title} </div>\r\n          <div className=\"vid-info\">\r\n            <div className=\"vid-ch-txt\"> {channelName} </div>\r\n            <div> {fromNowDate}  {viewCount} views </div>\r\n          </div>\r\n        </div>\r\n\r\n      </li>\r\n\r\n    );\r\n  }\r\n  return (\r\n    <h4>  </h4>\r\n  )\r\n}\r\nexport default Video","import React from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Video from './Video.jsx'\r\n\r\nconst Shelf = props => {\r\n\r\n  const { shelfIdx, setNumVids, numVids, shelf } = props\r\n  const renderMoreNum = 6\r\n  let numVidzRendered = numVids[0] ? numVids[shelfIdx].numVids : 0\r\n\r\n  Shelf.propTypes = {\r\n    shelfIdx: PropTypes.number.isRequired,\r\n    setNumVids: PropTypes.func.isRequired,\r\n    numVids: PropTypes.oneOfType([\r\n      PropTypes.object,\r\n      PropTypes.arrayOf(PropTypes.object)\r\n    ]).isRequired,\r\n\r\n    shelf: PropTypes.shape({\r\n      filters: PropTypes.array.isRequired,\r\n      title: PropTypes.string.isRequired,\r\n      videos: PropTypes.array.isRequired,\r\n    }).isRequired,\r\n  }\r\n\r\n  function loadMoreVids() {\r\n\r\n    // Pagination / Load More https://codepen.io/grantdotlocal/pen/zReNgE\r\n    setNumVids(prev => {\r\n      let newNumVids = { ...prev }\r\n      newNumVids[shelfIdx].numVids = newNumVids[shelfIdx].numVids + renderMoreNum // Render 6 more vids after clicking \"More\"\r\n      return newNumVids\r\n    })\r\n  }\r\n\r\n  function isMoreVidsAvailable() {\r\n    return shelf.videos.length < numVids[shelfIdx].numVids\r\n  }\r\n\r\n  const videos = shelf.videos.slice(0, numVidzRendered).map((video) => {\r\n    return (\r\n      <Video key={video.id || 'somevidid'} video={video} />\r\n    )\r\n  })\r\n\r\n\r\n  return (\r\n    <div className=\" yt-shelf-inner-wrap\">\r\n      <div className=\" yt-shelf-title\"> {shelf.title} </div>\r\n      <ul className=\" yt-shelf row\">\r\n        {videos}\r\n      </ul>\r\n      <div className=\"yt-loadmore-btn center-align\">\r\n        {!isMoreVidsAvailable() ? (\r\n          <a\r\n            onClick={loadMoreVids}\r\n            className=\" waves-effect waves-light btn\"\r\n          >\r\n            <i className=\" material-icons\">expand_more</i>\r\n          </a>\r\n        )\r\n          : null}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default Shelf","import React from 'react'\r\nimport nextId from \"react-id-generator\";\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport LoadingMain from '../Common/LoadingMain.jsx';\r\nimport Shelf from './Shelf'\r\n\r\n\r\nconst ShelfsMany = props => {\r\n\r\n  ShelfsMany.propTypes = {\r\n    setNumVids: PropTypes.func.isRequired,\r\n    numVids: PropTypes.oneOfType([\r\n      PropTypes.object,\r\n      PropTypes.arrayOf(PropTypes.object)\r\n    ]).isRequired,\r\n    shelfs: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n    hasMore: PropTypes.bool.isRequired,\r\n\r\n  }\r\n\r\n  const { shelfs, numVids, setNumVids, hasMore } = props\r\n\r\n  return (\r\n    <div>\r\n      {shelfs.map((sh, idx) => {\r\n        return (\r\n          <div key={nextId('shelfid-')} className=\" yt-shelf-outer-wrap \">\r\n            <Shelf\r\n              shelf={sh}\r\n              numVids={numVids}\r\n              setNumVids={setNumVids}\r\n              shelfIdx={idx}\r\n            />\r\n            <div className='div-aux' />\r\n          </div>\r\n        )\r\n      })}\r\n      {hasMore ? null : <LoadingMain />}\r\n    </div>\r\n\r\n  )\r\n}\r\nexport default ShelfsMany","class VidCounter {\r\n  constructor() {\r\n    this.numVids = 12;\r\n    this.shelfId = \"\";\r\n  }\r\n}\r\nexport default VidCounter;\r\n","/*\r\n* The Youtube page starts by using the user's profile data (his subscriptions) then fetches data from youtube\r\n* If the user is not logged in then we use a demo profile. \r\n*\r\n*/\r\n\r\nimport React, { useContext, useEffect, useState } from 'react';\r\n\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport nextId from \"react-id-generator\";\r\n\r\nimport * as Common from '../BusinessLogic/Common.js';\r\nimport * as GApiAuth from '../HttpRequests/GApiAuth';\r\nimport * as ytLogic from '../BusinessLogic/YtLogic.js';\r\nimport {\r\n  IsInitFinishedContext,\r\n  UserContext,\r\n  UserSettingsContext\r\n} from '../Contexts/UserContext.js';\r\nimport FinalShelfs from '../Classes/FinalShelfs'\r\nimport GreetingsMsg from '../Common/GreetingsMsg.jsx'\r\nimport LoadingMain from '../Common/LoadingMain.jsx';\r\nimport ShelfsMany from './ShelfsMany.jsx';\r\nimport VidCounter from '../Classes/VidCounter'\r\nimport VideoResponse from '../Classes/VideoResponse'\r\n\r\nfunction YoutubeNEW() {\r\n\r\n  const spamLimit = 25;\r\n  const pageGrowth = 4;\r\n  const initialPageLength = 3\r\n  // Arbitrary number (max 50) (see youtube's Video api)\r\n  const fetchThisManyVideosPerShelf = 35\r\n\r\n  const { user, setUser } = useContext(UserContext);\r\n  const { userSetings, setUserSettings } = useContext(UserSettingsContext);\r\n  const { isInitFinished2, setIsInitFinished2 } = useContext(IsInitFinishedContext);\r\n\r\n  const [finalShelfs, setFinalShelfs] = useState(new FinalShelfs())\r\n  const [pageLength, setPageLength] = useState(initialPageLength);\r\n  const [prevPage2, setPrevPage2] = useState(0);\r\n  const [numVids, setNumVids] = useState([new VidCounter()]) \r\n  const [isFirst, setIsFirst] = useState(true)\r\n  const [isMoreShelfs, setIsMoreShelfs] = useState(false);\r\n  let spamCount = 0;\r\n\r\n  function isEndReached() {\r\n    let isEnd = false;\r\n    if (isFirst) {\r\n      return false\r\n    }\r\n    if (spamCount > spamLimit\r\n      || pageLength > user.customShelfs.length\r\n      || prevPage2 >= user.customShelfs.length) {\r\n      isEnd = true\r\n    }\r\n    return isEnd\r\n  }\r\n\r\n  function putUnsortedShelfAtBottom() {\r\n    const newUser = user;\r\n    let sort = user.customShelfs.filter(sh => sh.isSorted)\r\n    const unSort = user.customShelfs.filter(sh => !sh.isSorted)\r\n    sort = sort.concat(unSort)\r\n    newUser.customShelfs = sort\r\n    setUser(newUser)\r\n  }\r\n\r\n  async function hackHelper() {\r\n    let count = 1\r\n    let isReady = !GApiAuth.checkAll();\r\n    while (isReady) {\r\n      await Common.sleep(100 * count)\r\n      count = count + 1\r\n      if (count > 40) {\r\n        count = count * 2\r\n      }\r\n      isReady = !GApiAuth.checkAll()\r\n    }\r\n  }\r\n  const preFetchMoreSubs = async () => {\r\n\r\n    if (isFirst) {\r\n      putUnsortedShelfAtBottom()\r\n    }\r\n    // instantly halt any possible room for multi fetches\r\n    setIsMoreShelfs(false)\r\n    await hackHelper()\r\n  }\r\n\r\n  function calcShelfSlice() {\r\n    let sliceVal;\r\n    if (user.customShelfs.length <= pageLength) {\r\n      sliceVal = user.customShelfs.length\r\n    } else {\r\n      sliceVal = pageLength\r\n    }\r\n    return sliceVal\r\n\r\n  }\r\n\r\n  async function _fetchActivities() {\r\n\r\n    let shelfsActs = await ytLogic.getActivitiesShelfs(user.customShelfs.slice(prevPage2, calcShelfSlice()))\r\n\r\n    shelfsActs = ytLogic.removeNonVideos(shelfsActs)\r\n    shelfsActs = shelfsActs.map(shelf => ytLogic.flattenShelf(shelf))\r\n    shelfsActs = shelfsActs.map(shelf => ytLogic.sortByDate(shelf))\r\n\r\n    return shelfsActs\r\n\r\n  }\r\n\r\n  function isNothingLoadedYet() {\r\n    return (finalShelfs.shelfs[0].videos[0].id == null)\r\n  }\r\n\r\n  function setFinalShelfAux(iData) {\r\n    setFinalShelfs(prevShs => {\r\n      const newS = { ...prevShs }\r\n      if (isNothingLoadedYet()) {\r\n        newS.shelfs[0] = iData.shelfs.shift()\r\n      }\r\n      iData.shelfs.forEach(sh => {\r\n        newS.shelfs.push(sh)\r\n      });\r\n      return newS;\r\n    })\r\n    setPrevPage2(pageLength)\r\n\r\n    //TODO NOTICE ME\r\n    if (pageLength + pageGrowth > user.customShelfs.length) {\r\n      setPageLength(user.customShelfs.length)\r\n    } else {\r\n      setPageLength(pageLength + pageGrowth)\r\n    }\r\n\r\n    spamCount = spamCount + pageGrowth;\r\n    setIsMoreShelfs(true)\r\n  }\r\n\r\n  function injectData(shelfstuff) {\r\n\r\n    const injectShelfTitle = user.customShelfs.slice(prevPage2, calcShelfSlice()).map((sh, idx) => {\r\n      return { \"videos\": shelfstuff[idx], \"title\": sh.title, \"filters\": sh.fewSubs.map(sub => sub.filter) }\r\n    })\r\n    if (!injectShelfTitle[0].videos[0]) {\r\n      injectShelfTitle[0].videos[0] = new VideoResponse()\r\n      injectShelfTitle[0].videos[0].id = ''\r\n    }\r\n    return { shelfs: injectShelfTitle }\r\n  }\r\n\r\n  async function _fetchVideos(shelfsActs) {\r\n\r\n    shelfsActs = shelfsActs.map(sh => sh.slice(0, fetchThisManyVideosPerShelf))\r\n\r\n    const shelfsVidIds = await shelfsActs.map(sh => ytLogic.extractIds(sh))\r\n\r\n    let shelfVids = await ytLogic.fetchVideos(shelfsVidIds)\r\n\r\n    shelfVids = shelfVids.filter(sh => sh.status > 199 || sh.status < 300).map(sh => sh.result.items)\r\n\r\n    shelfVids = shelfVids.map(shelf => ytLogic.sortByDate(shelf))\r\n\r\n    return shelfVids\r\n  }\r\n\r\n  const fetchMoreSubs = async () => {\r\n\r\n    if (isEndReached()) {\r\n      return\r\n    }\r\n\r\n    await preFetchMoreSubs()\r\n\r\n    const shelfsActs = await _fetchActivities()\r\n\r\n    const shelfVids = await _fetchVideos(shelfsActs)\r\n\r\n    const iData = injectData(shelfVids)\r\n\r\n    ytLogic.beginFilter2(iData.shelfs)\r\n\r\n    setFinalShelfAux(iData)\r\n  }\r\n\r\n  async function initPage() {\r\n\r\n    await GApiAuth.getGoogleAuth()\r\n    if (GApiAuth.isHeSignedIn() && user.isDemo) {\r\n      await Common.loginAndSet(setUser, setUserSettings)\r\n    }\r\n    setIsFirst(false)\r\n    setNumVids(user.customShelfs.map(() => new VidCounter()))\r\n    await fetchMoreSubs()\r\n  }\r\n\r\n  useEffect(() => {\r\n    initPage()\r\n  }, [])\r\n\r\n\r\n  const Shelfs = () => {\r\n    return (\r\n      <InfiniteScroll\r\n        key={nextId('infScroll-')}\r\n        loadMore={() => fetchMoreSubs()}\r\n        hasMore={isMoreShelfs}\r\n        loader={(<div key={nextId('loader-')}> </div>)}\r\n        threshold={10}\r\n      >\r\n        <ShelfsMany\r\n          key={nextId('manyShelfsid-')}\r\n          shelfs={finalShelfs.shelfs.slice(0, pageLength)}\r\n          numVids={numVids}\r\n          setNumVids={setNumVids}\r\n          hasMore={isMoreShelfs}\r\n        />\r\n      </InfiniteScroll>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {isInitFinished2 ? <GreetingsMsg /> : null}\r\n      {isNothingLoadedYet() ? <LoadingMain /> : <Shelfs />}\r\n    </div>\r\n  );\r\n}\r\nexport default YoutubeNEW;","/*\r\n* The App begins by loading googles API from a CDN and soon initializes itself (client, Api-key).\r\n* It then checks if the user is logged in. If so it get user data from backend. If not it loads a demo profile\r\n* The app uses Google's OAuth to verify the user; first it sends a token to my backend server then the server verifies the user using Google's Api + that token.\r\n*\r\n*\r\n*/\r\nimport { Route, BrowserRouter as Router, Switch } from 'react-router-dom';\r\nimport React, { useEffect, useState } from 'react';\r\nimport moment from 'moment';\r\n\r\nimport * as Common from './BusinessLogic/Common';\r\nimport * as GApiAuth from './HttpRequests/GApiAuth'\r\nimport {\r\n  IsInitFinishedContext,\r\n  IsLoggedContext,\r\n  UserContext,\r\n  UserSettingsContext\r\n} from './Contexts/UserContext'\r\nimport About from './Common/Home.jsx';\r\nimport Nav from './Common/Nav.jsx';\r\nimport SettingsNEW from './Settings/SettingsMain.jsx';\r\nimport YoutubeNEW from './Youtube/YoutubeMain.jsx';\r\n\r\nfunction App() {\r\n\r\n  const [user, setUser] = useState(Common.getMockUser())\r\n  const [userSettings, setUserSettings] = useState(Common.getMockUser())\r\n  const [isLogged2, setIsLogged2] = useState(false)\r\n  const [isInitFinished2, setIsInitFinished2] = useState(false)\r\n\r\n  async function initGApi() {\r\n\r\n    const GoogleAuth = await GApiAuth.initGoogleAPI()\r\n\r\n    if (GApiAuth.isHeSignedIn() && user.isDemo) {\r\n      await Common.loginAndSet(setUser, setUserSettings)\r\n    }\r\n\r\n    setIsInitFinished2(true)\r\n    setIsLogged2(GApiAuth.isHeSignedIn())\r\n\r\n    // solution (?) to the 2% crash chance where i get random thread bug saying GoogleAuth is null. I think the interpreter does not fully await for initGoogleAPI()???\r\n    while (GoogleAuth == null) {\r\n      await Common.sleep(500)\r\n      initGApi()\r\n      return;\r\n    }\r\n\r\n    // Sign-in listeners: https://developers.google.com/identity/sign-in/web/listeners\r\n    GoogleAuth.isSignedIn.listen(function (val) {\r\n      setIsLogged2(GApiAuth.isHeSignedIn())\r\n      window.location.reload(true);\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n    // adblock will block the googleapi script/link/cdn if its in the HTML\r\n    // TODO, npm googleapis\r\n    const script = document.createElement(\"script\");\r\n    script.type = \"text/javascript\";\r\n    script.src = \"https://apis.google.com/js/client.js\";\r\n    script.async = true\r\n    document.body.appendChild(script)\r\n    script.onload = () => {\r\n      initGApi()\r\n    }\r\n\r\n    moment.updateLocale('en', {\r\n      relativeTime: {\r\n        m: \"1 minute\",\r\n        h: \"1 hour\",\r\n        d: \"1 day\",\r\n        M: \"1 month\",\r\n        y: \"1 year\",\r\n      }\r\n    });\r\n  }, [])\r\n\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <UserContext.Provider value={{ user, setUser }}>\r\n          <UserSettingsContext.Provider value={{ userSettings, setUserSettings }}>\r\n            <IsLoggedContext.Provider value={{ isLogged2, setIsLogged2 }}>\r\n              <IsInitFinishedContext.Provider value={{ isInitFinished2, setIsInitFinished2 }}>\r\n\r\n                <Nav />\r\n                <Route path=\"/\" exact component={YoutubeNEW} />\r\n\r\n                <Route path=\"/about\" component={About} />\r\n\r\n                <Route path=\"/customize\" component={SettingsNEW} />\r\n              </IsInitFinishedContext.Provider>\r\n            </IsLoggedContext.Provider>\r\n          </UserSettingsContext.Provider>\r\n        </UserContext.Provider>\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"materialize-css/dist/css/materialize.css\";\nimport \"materialize-css/dist/js/materialize.js\";\n\nimport \"./CSS/mysass.scss\";\nimport * as serviceWorker from \"./CSS/serviceWorker\";\nimport App from \"./App.jsx\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/profile-pic.5a021ab9.png\";","module.exports = __webpack_public_path__ + \"static/media/green-depth.edbb58a9.jpg\";","module.exports = __webpack_public_path__ + \"static/media/cogs2.9b2f77c1.png\";","module.exports = __webpack_public_path__ + \"static/media/pen3.95f41f96.png\";","module.exports = __webpack_public_path__ + \"static/media/drag3.1992d591.png\";","module.exports = __webpack_public_path__ + \"static/media/drag-sub2.4b355ec6.png\";","module.exports = __webpack_public_path__ + \"static/media/tut-filt-combo2.b4ecf9a0.png\";","module.exports = __webpack_public_path__ + \"static/media/order2.885d0331.png\";","module.exports = __webpack_public_path__ + \"static/media/notice-with-arrow.e300377f.png\";"],"sourceRoot":""}